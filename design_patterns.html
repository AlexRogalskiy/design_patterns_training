<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.7.1">
<meta name="author" content="Daniel Hinojosa">
<title>Design Patterns</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote::before{display:none}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{word-spacing:0;line-height:1.6}
.quoteblock.abstract blockquote::before,.quoteblock.abstract p::before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
.listingblock .pygments .hll { background-color: #ffffcc }
.listingblock .pygments, .listingblock .pygments code { background: #f0f0f0; }
.listingblock .pygments .tok-c { color: #60a0b0; font-style: italic } /* Comment */
.listingblock .pygments .tok-err { border: 1px solid #FF0000 } /* Error */
.listingblock .pygments .tok-k { color: #007020; font-weight: bold } /* Keyword */
.listingblock .pygments .tok-o { color: #666666 } /* Operator */
.listingblock .pygments .tok-ch { color: #60a0b0; font-style: italic } /* Comment.Hashbang */
.listingblock .pygments .tok-cm { color: #60a0b0; font-style: italic } /* Comment.Multiline */
.listingblock .pygments .tok-cp { color: #007020 } /* Comment.Preproc */
.listingblock .pygments .tok-cpf { color: #60a0b0; font-style: italic } /* Comment.PreprocFile */
.listingblock .pygments .tok-c1 { color: #60a0b0; font-style: italic } /* Comment.Single */
.listingblock .pygments .tok-cs { color: #60a0b0; background-color: #fff0f0 } /* Comment.Special */
.listingblock .pygments .tok-gd { color: #A00000 } /* Generic.Deleted */
.listingblock .pygments .tok-ge { font-style: italic } /* Generic.Emph */
.listingblock .pygments .tok-gr { color: #FF0000 } /* Generic.Error */
.listingblock .pygments .tok-gh { color: #000080; font-weight: bold } /* Generic.Heading */
.listingblock .pygments .tok-gi { color: #00A000 } /* Generic.Inserted */
.listingblock .pygments .tok-go { color: #888888 } /* Generic.Output */
.listingblock .pygments .tok-gp { color: #c65d09; font-weight: bold } /* Generic.Prompt */
.listingblock .pygments .tok-gs { font-weight: bold } /* Generic.Strong */
.listingblock .pygments .tok-gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.listingblock .pygments .tok-gt { color: #0044DD } /* Generic.Traceback */
.listingblock .pygments .tok-kc { color: #007020; font-weight: bold } /* Keyword.Constant */
.listingblock .pygments .tok-kd { color: #007020; font-weight: bold } /* Keyword.Declaration */
.listingblock .pygments .tok-kn { color: #007020; font-weight: bold } /* Keyword.Namespace */
.listingblock .pygments .tok-kp { color: #007020 } /* Keyword.Pseudo */
.listingblock .pygments .tok-kr { color: #007020; font-weight: bold } /* Keyword.Reserved */
.listingblock .pygments .tok-kt { color: #902000 } /* Keyword.Type */
.listingblock .pygments .tok-m { color: #40a070 } /* Literal.Number */
.listingblock .pygments .tok-s { color: #4070a0 } /* Literal.String */
.listingblock .pygments .tok-na { color: #4070a0 } /* Name.Attribute */
.listingblock .pygments .tok-nb { color: #007020 } /* Name.Builtin */
.listingblock .pygments .tok-nc { color: #0e84b5; font-weight: bold } /* Name.Class */
.listingblock .pygments .tok-no { color: #60add5 } /* Name.Constant */
.listingblock .pygments .tok-nd { color: #555555; font-weight: bold } /* Name.Decorator */
.listingblock .pygments .tok-ni { color: #d55537; font-weight: bold } /* Name.Entity */
.listingblock .pygments .tok-ne { color: #007020 } /* Name.Exception */
.listingblock .pygments .tok-nf { color: #06287e } /* Name.Function */
.listingblock .pygments .tok-nl { color: #002070; font-weight: bold } /* Name.Label */
.listingblock .pygments .tok-nn { color: #0e84b5; font-weight: bold } /* Name.Namespace */
.listingblock .pygments .tok-nt { color: #062873; font-weight: bold } /* Name.Tag */
.listingblock .pygments .tok-nv { color: #bb60d5 } /* Name.Variable */
.listingblock .pygments .tok-ow { color: #007020; font-weight: bold } /* Operator.Word */
.listingblock .pygments .tok-w { color: #bbbbbb } /* Text.Whitespace */
.listingblock .pygments .tok-mb { color: #40a070 } /* Literal.Number.Bin */
.listingblock .pygments .tok-mf { color: #40a070 } /* Literal.Number.Float */
.listingblock .pygments .tok-mh { color: #40a070 } /* Literal.Number.Hex */
.listingblock .pygments .tok-mi { color: #40a070 } /* Literal.Number.Integer */
.listingblock .pygments .tok-mo { color: #40a070 } /* Literal.Number.Oct */
.listingblock .pygments .tok-sa { color: #4070a0 } /* Literal.String.Affix */
.listingblock .pygments .tok-sb { color: #4070a0 } /* Literal.String.Backtick */
.listingblock .pygments .tok-sc { color: #4070a0 } /* Literal.String.Char */
.listingblock .pygments .tok-dl { color: #4070a0 } /* Literal.String.Delimiter */
.listingblock .pygments .tok-sd { color: #4070a0; font-style: italic } /* Literal.String.Doc */
.listingblock .pygments .tok-s2 { color: #4070a0 } /* Literal.String.Double */
.listingblock .pygments .tok-se { color: #4070a0; font-weight: bold } /* Literal.String.Escape */
.listingblock .pygments .tok-sh { color: #4070a0 } /* Literal.String.Heredoc */
.listingblock .pygments .tok-si { color: #70a0d0; font-style: italic } /* Literal.String.Interpol */
.listingblock .pygments .tok-sx { color: #c65d09 } /* Literal.String.Other */
.listingblock .pygments .tok-sr { color: #235388 } /* Literal.String.Regex */
.listingblock .pygments .tok-s1 { color: #4070a0 } /* Literal.String.Single */
.listingblock .pygments .tok-ss { color: #517918 } /* Literal.String.Symbol */
.listingblock .pygments .tok-bp { color: #007020 } /* Name.Builtin.Pseudo */
.listingblock .pygments .tok-fm { color: #06287e } /* Name.Function.Magic */
.listingblock .pygments .tok-vc { color: #bb60d5 } /* Name.Variable.Class */
.listingblock .pygments .tok-vg { color: #bb60d5 } /* Name.Variable.Global */
.listingblock .pygments .tok-vi { color: #bb60d5 } /* Name.Variable.Instance */
.listingblock .pygments .tok-vm { color: #bb60d5 } /* Name.Variable.Magic */
.listingblock .pygments .tok-il { color: #40a070 } /* Literal.Number.Integer.Long */
</style>
</head>
<body class="article">
<div id="header">
<h1>Design Patterns</h1>
<div class="details">
<span id="author" class="author">Daniel Hinojosa</span><br>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_conventions_in_the_slides">Conventions in the slides</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following typographical conventions are used in this material:<br>
<br>
<em>Italic</em><br>
Indicates new terms, URLs, email addresses, filenames, and file extensions.<br>
<br>
<code>Constant width</code><br>
Used for program listings, as well as within paragraphs to refer to program elements such as variable or function names, databases, data types, environment variables, statements, and keywords.<br>
<br>
<code><strong>Constant width bold</strong></code><br>
Shows commands or other text that should be typed literally by the user.<br>
<br>
<code><em>Constant width italic</em></code><br>
Shows text that should be replaced with user-supplied values or by values determined by context.<br></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_contact_information">Contact Information</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Email: <a href="mailto:dhinojosa@evolutionnext.com">dhinojosa@evolutionnext.com</a></p>
</li>
<li>
<p>Github: <a href="https://www.github.com/dhinojosa" class="bare">https://www.github.com/dhinojosa</a></p>
</li>
<li>
<p>Twitter: <a href="http://twitter.com/dhinojosa" class="bare">http://twitter.com/dhinojosa</a></p>
</li>
<li>
<p>Linked In: <a href="http://www.linkedin.com/in/dhevolutionnext" class="bare">http://www.linkedin.com/in/dhevolutionnext</a></p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_what_are_design_patterns">What are Design Patterns?</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_design_patterns">Design Patterns</h2>
<div class="sectionbody">
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Each pattern describes a problem which occurs over
and over again in our environment, and then
describes the core of the solution to that problem,
in such a way that you can use this solution a
million times over, without ever doing it
the same way twice.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; Christopher Alexander
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_christopher_alexander_was_not_a_software_designer">Christopher Alexander was not a software designer</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Alexander was talking about patterns in buildings and towns</p>
</li>
<li>
<p>What he says is true about object-oriented design patterns.</p>
</li>
<li>
<p>Our solutions are expressed in terms of objects and interfaces
instead of walls and doors,</p>
</li>
<li>
<p>Both kinds of patterns is a
solution to a problem in a context.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Source: Design Patterns: Elements of Reusable Object-Oriented Software</p>
</div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_elements_of_a_pattern">Elements of a Pattern</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_1_the_pattern_name">1. The Pattern Name</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>The <strong>pattern name</strong> is a handle we can use
to describe a design problem, its solutions,
and consequences in a word or two.</p>
</li>
<li>
<p>Naming a pattern immediately increases our
design vocabulary. It lets us design at a higher
level of abstraction. Having a vocabulary for
patterns lets us talk about them with our colleagues,
 in our documentation, and even to ourselves.</p>
</li>
<li>
<p>It makes it easier to think about designs and
to communicate them and their trade-offs to others.</p>
</li>
<li>
<p>Finding good names has been one of the hardest
parts of developing our catalog.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Source: Design Patterns: Elements of Reusable Object-Oriented Software</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2_the_problem">2. The Problem</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>The <strong>problem</strong> describes when to apply the pattern.</p>
</li>
<li>
<p>It explains the problem and its context.</p>
</li>
<li>
<p>It might describe specific design problems
such as how to represent algorithms as objects.</p>
</li>
<li>
<p>It might describe class or object structures
that are symptomatic of an inflexible design.</p>
</li>
<li>
<p>Sometimes the problem will include a list of
conditions that must be met before it makes
sense to apply the pattern.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Source: Design Patterns: Elements of Reusable Object-Oriented Software</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_3_the_solution">3. The Solution</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>The <strong>solution</strong> describes the elements that
make up:</p>
<div class="ulist">
<ul>
<li>
<p>The design</p>
</li>
<li>
<p>Their relationships</p>
</li>
<li>
<p>Responsibilities</p>
</li>
<li>
<p>Collaborations.</p>
</li>
</ul>
</div>
</li>
<li>
<p>The solution doesn’t describe a particular
concrete design or implementation,</p>
</li>
<li>
<p>A pattern is a template</p>
</li>
<li>
<p>Can be applied in many different situations.</p>
</li>
<li>
<p>Provides an abstract description of a design problem</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Source: Design Patterns: Elements of Reusable Object-Oriented Software</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_4_the_consequences">4. The Consequences</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>The <strong>consequences</strong> are the results and trade-offs of
applying the pattern.</p>
</li>
<li>
<p>Though consequences are often unvoiced when we
describe design decisions</p>
</li>
<li>
<p>They are critical</p>
<div class="ulist">
<ul>
<li>
<p>For evaluating design alternatives</p>
</li>
<li>
<p>For understanding the costs and benefits of applying
the pattern</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Source: Design Patterns: Elements of Reusable Object-Oriented Software</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_setup">Setup</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_pre_class_check">Pre-Class Check</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before we begin it is assumed that all of you have the following tools installed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>JDK (latest java is 10.0.1)</p>
</li>
<li>
<p>Maven (latest maven is 3.5.4)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To verify that all your tools work as expected</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="sh"><span></span>% javac -version
javac <span class="tok-m">10</span>.0.1

% java -version
java version <span class="tok-s2">&quot;10.0.1&quot;</span>
Java<span class="tok-o">(</span>TM<span class="tok-o">)</span> SE Runtime Environment <span class="tok-o">(</span>build <span class="tok-m">10</span>.0.1-b17<span class="tok-o">)</span>
Java HotSpot<span class="tok-o">(</span>TM<span class="tok-o">)</span> <span class="tok-m">64</span>-Bit Server VM <span class="tok-o">(</span>build <span class="tok-m">25</span>.65-b01, mixed mode<span class="tok-o">)</span>

% mvn -v
Apache Maven <span class="tok-m">3</span>.5.4 <span class="tok-o">(</span>1edded0938998edf8bf061f1ceb3cfdeccf443fe<span class="tok-p">;</span> <span class="tok-m">2018</span>-06-17T12:33:14-06:00<span class="tok-o">)</span>
Maven home: /opt/apache-maven
Java version: <span class="tok-m">10</span>.0.1, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk-10.0.1.jdk/Contents/Home
Default locale: en_US, platform encoding: UTF-8
OS name: <span class="tok-s2">&quot;mac os x&quot;</span>, version: <span class="tok-s2">&quot;10.13.5&quot;</span>, arch: <span class="tok-s2">&quot;x86_64&quot;</span>, family: <span class="tok-s2">&quot;mac&quot;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installing_java_maven_on_a_mac_automatically_with_brew">Installing Java, Maven on a Mac Automatically with Brew</h2>
<div class="sectionbody">
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./images/brew-website.png" alt="brew website" width="50%">
</div>
</div>
<div class="paragraph">
<p>If you have brew installed, you can run the following <strong><em>and be done</em></strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="sh"><span></span>% brew update
% brew cask install java
% brew install maven</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This will require an install of Homebrew. Visit <a href="https://brew.sh/" class="bare">https://brew.sh/</a> for details of installation if you want to use brew.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Depending on your company&#8217;s software and security constraints, you may not be able to use brew
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_if_you_dont_have_java_installed">If you don&#8217;t have Java installed</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Visit: <a href="http://www.oracle.com/technetwork/java/javase/downloads/index-jsp-138363.html" class="bare">http://www.oracle.com/technetwork/java/javase/downloads/index-jsp-138363.html</a></p>
</li>
<li>
<p>Select: <em>Accept License Agreement</em></p>
</li>
<li>
<p>Download the appropriate Java version based on your architecture.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux ARM 32 Hard Float ABI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux ARM 64 Hard Float ABI</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux x86</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux x86</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux x64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux x64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mac OS X</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Solaris SPARC 64-bit</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Solaris SPARC 64-bit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Solaris x64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Solaris x64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Windows x86</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_if_you_do_not_have_maven_installed">If you do not have Maven installed</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Visit <a href="http://maven.apache.org/download.cgi" class="bare">http://maven.apache.org/download.cgi</a></p>
</li>
<li>
<p>Select either binary tar.gz or .zip</p>
</li>
</ul>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./images/maven-download-selection.png" alt="maven download selection" width="50%">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>For Mac and Linux you can expand with <code>tar -xvf apache-maven-3.5.4.tgz</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_windows_setup">Windows Setup</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_setting_up_the_windows_environment_variables_for_java">Setting up the Windows Environment Variables for Java</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Go to your <em>Environment Variables</em>, typically done by typing the Windows key(<span class="image"><img src="./images/windows_key.png" alt="Windows Key" width="16" height="16"></span>) and type <code>env</code></p>
</li>
</ul>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./images/EnvironmentVariablesWindows.PNG" alt="EnvironmentVariablesWindows">
</div>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./images/UserOrSystemEnvironmentVariables.PNG" alt="UserOrSystemEnvironmentVariables">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_setting_up_java_home_environment_variable">Setting up <code>JAVA_HOME</code> Environment Variable</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Edit <code>JAVA_HOME</code> in the System Environment Variable window with the location of your JDK</p>
</li>
</ul>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./images/JAVA_HOME.PNG" alt="JAVA HOME">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Using <code>jdk1.8.0_131</code> in the image. Your version may vary.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_setting_up_path_environment_variable">Setting up <code>PATH</code> Environment Variable</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Once you establish <code>JAVA_HOME</code>, and <code>M2_HOME</code>, <strong><em>append</em></strong> to the <code>PATH</code> setting the following:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>;%JAVA_HOME%\bin;%M2_HOME%\bin</code></pre>
</div>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./images/PATH.PNG" alt="PATH">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_restart_all_command_prompts_and_try_again">Restart All Command Prompts And Try Again</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="sh"><span></span>% javac -version
javac <span class="tok-m">10</span>.0.1

% java -version
java version <span class="tok-s2">&quot;10.0.1&quot;</span>
Java<span class="tok-o">(</span>TM<span class="tok-o">)</span> SE Runtime Environment <span class="tok-o">(</span>build <span class="tok-m">10</span>.0.1-b17<span class="tok-o">)</span>
Java HotSpot<span class="tok-o">(</span>TM<span class="tok-o">)</span> <span class="tok-m">64</span>-Bit Server VM <span class="tok-o">(</span>build <span class="tok-m">25</span>.65-b01, mixed mode<span class="tok-o">)</span>

% mvn -v
Apache Maven <span class="tok-m">3</span>.5.4 <span class="tok-o">(</span>1edded0938998edf8bf061f1ceb3cfdeccf443fe<span class="tok-p">;</span> <span class="tok-m">2018</span>-06-17T12:33:14-06:00<span class="tok-o">)</span>
Maven home: C:<span class="tok-se">\P</span>rogram-Files<span class="tok-se">\a</span>pache-maven-3.5.4
Java version: <span class="tok-m">10</span>.0.1, vendor: Oracle Corporation, runtime: C:<span class="tok-se">\P</span>rogram Files<span class="tok-se">\J</span>ava<span class="tok-se">\j</span>dk-10.0.1.jdk
Default locale: en_US, platform encoding: UTF-8
OS name: <span class="tok-s2">&quot;Windows 9&quot;</span>, version: <span class="tok-s2">&quot;10.13.5&quot;</span>, arch: <span class="tok-s2">&quot;x86_64&quot;</span>, family: <span class="tok-s2">&quot;windows&quot;</span></code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Changes won&#8217;t take effect until you open a new command prompt!
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mac_osx_setup">Mac OSX Setup</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_editing_your_bash_profile_or_zshrc">Editing your <em>.bash_profile</em> or <em>.zshrc</em></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>If you are using the Bash shell, edit the your <em>.bash_profile</em> in your home directory using your favorite editor</p>
</li>
<li>
<p>If you are using the Zsh shell, edit the your <em>.zshrc</em> in your home directory using your favorite editor</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, if using <code>nano</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="sh"><span></span>% nano ~/.bash_profile</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Replace <em>nano</em> with your favorite editor <em>vim</em>, <em>emacs</em>, <em>atom</em>, etc.<br>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Make sure the following contents are in your <em>.bash_profile</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash"><span></span><span class="tok-nb">export</span> <span class="tok-nv">JAVA_HOME</span><span class="tok-o">=</span> &lt;location_of_java&gt;
<span class="tok-nb">export</span> <span class="tok-nv">M2_HOME</span><span class="tok-o">=</span> &lt;location_of_mvn&gt;
<span class="tok-nb">export</span> <span class="tok-nv">PATH</span><span class="tok-o">=</span><span class="tok-nv">$PATH</span>:<span class="tok-nv">$JAVA_HOME</span>/bin:<span class="tok-nv">$M2_HOME</span>/bin</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you used <code>brew</code>, many of these application will not require their <code>PATH</code> setup.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can locate where <code>mvn</code> by either doing</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="sh"><span></span>% which mvn
% whereis mvn</code></pre>
</div>
</div>
<div class="paragraph">
<p>When done open a new terminal or if already on an open terminal type:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For bash: <code><strong>source .bash_profile</strong></code></p>
</li>
<li>
<p>For zsh:  <code><strong>source .zshrc</strong></code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_verify_the_results">Verify the Results</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Verify the results on the command line</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="sh"><span></span>% javac -version
javac <span class="tok-m">10</span>.0.1

% java -version
java version <span class="tok-s2">&quot;10.0.1&quot;</span>
Java<span class="tok-o">(</span>TM<span class="tok-o">)</span> SE Runtime Environment <span class="tok-o">(</span>build <span class="tok-m">10</span>.0.1-b17<span class="tok-o">)</span>
Java HotSpot<span class="tok-o">(</span>TM<span class="tok-o">)</span> <span class="tok-m">64</span>-Bit Server VM <span class="tok-o">(</span>build <span class="tok-m">25</span>.65-b01, mixed mode<span class="tok-o">)</span>

% mvn -v
Apache Maven <span class="tok-m">3</span>.5.4 <span class="tok-o">(</span>1edded0938998edf8bf061f1ceb3cfdeccf443fe<span class="tok-p">;</span> <span class="tok-m">2018</span>-06-17T12:33:14-06:00<span class="tok-o">)</span>
Maven home: /opt/apache-maven
Java version: <span class="tok-m">10</span>.0.1, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk-10.0.1.jdk/Contents/Home
Default locale: en_US, platform encoding: UTF-8
OS name: <span class="tok-s2">&quot;mac os x&quot;</span>, version: <span class="tok-s2">&quot;10.13.5&quot;</span>, arch: <span class="tok-s2">&quot;x86_64&quot;</span>, family: <span class="tok-s2">&quot;mac&quot;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_linux_setup">Linux Setup</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_linux_users_only_editing_your_bash_profile_or_zshrc">Linux Users Only: Editing your <em>.bash_profile</em> or <em>.zshrc</em></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>If you are using the Bash shell, edit the your <em>.bash_profile</em> in your home directory using your favorite editor</p>
</li>
<li>
<p>If you are using the Zsh shell, edit the your <em>.zshrc</em> in your home directory using your favorite editor</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, if using <code>nano</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="sh"><span></span>% nano ~/.bash_profile</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Replace <em>nano</em> with your favorite editor <em>vim</em>, <em>emacs</em>, <em>atom</em>, etc.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Make sure the following contents are in your <em>.bash_profile</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash"><span></span><span class="tok-nb">export</span> <span class="tok-nv">JAVA_HOME</span><span class="tok-o">=</span> &lt;location_of_jdk&gt;
<span class="tok-nb">export</span> <span class="tok-nv">M2_HOME</span><span class="tok-o">=</span> &lt;location_of_maven&gt;
<span class="tok-nb">export</span> <span class="tok-nv">PATH</span><span class="tok-o">=</span><span class="tok-nv">$PATH</span>:<span class="tok-nv">$JAVA_HOME</span>/bin:<span class="tok-nv">$M2_HOME</span>/bin</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can locate where <code>mvn</code> is by either doing</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="sh"><span></span>% which mvn
% whereis mvn</code></pre>
</div>
</div>
<div class="paragraph">
<p>When done open a new terminal or if already on an open terminal type:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For bash: <code><strong>source .bash_profile</strong></code></p>
</li>
<li>
<p>For zsh:  <code><strong>source .zshrc</strong></code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_verify_the_results_2">Verify the Results</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Verify the results on the command line</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="sh"><span></span>% javac -version
javac <span class="tok-m">10</span>.0.1

% java -version
java version <span class="tok-s2">&quot;10.0.1&quot;</span>
Java<span class="tok-o">(</span>TM<span class="tok-o">)</span> SE Runtime Environment <span class="tok-o">(</span>build <span class="tok-m">10</span>.0.1-b17<span class="tok-o">)</span>
Java HotSpot<span class="tok-o">(</span>TM<span class="tok-o">)</span> <span class="tok-m">64</span>-Bit Server VM <span class="tok-o">(</span>build <span class="tok-m">25</span>.65-b01, mixed mode<span class="tok-o">)</span>

% mvn -v
Apache Maven <span class="tok-m">3</span>.5.4 <span class="tok-o">(</span>1edded0938998edf8bf061f1ceb3cfdeccf443fe<span class="tok-p">;</span> <span class="tok-m">2018</span>-06-17T12:33:14-06:00<span class="tok-o">)</span>
Maven home: /opt/apache-maven
Java version: <span class="tok-m">10</span>.0.1, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk-10.0.1.jdk/Contents/Home
Default locale: en_US, platform encoding: UTF-8
OS name: <span class="tok-s2">&quot;mac os x&quot;</span>, version: <span class="tok-s2">&quot;10.13.5&quot;</span>, arch: <span class="tok-s2">&quot;x86_64&quot;</span>, family: <span class="tok-s2">&quot;mac&quot;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installing_ides">Installing IDEs</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>IMPORTANT Be sure to download and configure the latest version of your IDE!</strong></p>
</li>
<li>
<p>Eclipse - Be sure to have Photon (Preferable) or Oxygen</p>
</li>
<li>
<p>IntelliJ IDEA (Professional or Community): 2018.1 (Preferable) or 2017.3</p>
</li>
<li>
<p><strong>IMPORTANT Be sure to backup any IDE settings that you believe are critical</strong></p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Using IntelliJ IDEA Professional has a wonderful diagramming tool for design patterns
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_clone_or_download_project">Clone or Download Project</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Project is located at <a href="https://github.com/dhinojosa/design_patterns_training" class="bare">https://github.com/dhinojosa/design_patterns_training</a></p>
</li>
<li>
<p>If you are familiar with Git, clone the project:</p>
</li>
</ul>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./images/gitclone.png" alt="gitclone" width="60%">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>If you are not familiar with Git, you can download the project by clicking the "Download ZIP" on the bottom right</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_import_into_intellij">Import into IntelliJ</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>If you have no current projects open:</p>
<div class="ulist">
<ul>
<li>
<p>Select <strong>Import Project</strong></p>
</li>
<li>
<p>Locate the <em>design_patterns_training</em> project</p>
</li>
</ul>
</div>
</li>
<li>
<p>If you have a current project open and you want to keep it open:</p>
<div class="ulist">
<ul>
<li>
<p><strong>CTRL+SHIFT+A</strong> or <strong>CMD+SHIFT+A</strong> and type "Import Project"</p>
</li>
<li>
<p>Locate the <em>design_patterns_training</em> project</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_import_into_eclipse">Import into Eclipse</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Import the project, using <strong>File</strong> | <strong>Import</strong></p>
</li>
<li>
<p>Select <strong>Maven</strong> | <strong>Existing Maven Projects</strong></p>
</li>
<li>
<p>Locate the <em>design_patterns_training</em> project</p>
</li>
<li>
<p>Click <strong>Finish</strong></p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_quick_intro_to_uml">Quick Intro to UML</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_uml_defined">UML Defined</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/uml.png" alt="uml" width="300px">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>UML</p>
<div class="ulist">
<ul>
<li>
<p>Unified Modeling Language</p>
</li>
<li>
<p>Communicate designs unambiguously</p>
</li>
<li>
<p>Convey the essence of a design</p>
</li>
<li>
<p>Capture and map functional requirements to their software solutions</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="small">Source: Learning UML 2.0 by Russ Miles; Kim Hamilton Published by O&#8217;Reilly Media, Inc., 2006</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_uml_can_be_used_however_you_like">UML can be used however you like:</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>UML as a sketch</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Make brief sketches to convey key points</p>
</li>
<li>
<p>Throwaway sketches—they could be written on a whiteboard</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>UML as a blueprint</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Provide a detailed specification of a system with UML diagrams</p>
</li>
<li>
<p>Would not be disposable but would be generated with a UML tool</p>
</li>
<li>
<p>Generally associated with software systems and usually involves keeping models synchronized with the code</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>UML as a programming language</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p>UML model to executable code</p>
</li>
<li>
<p>Meaning that every aspect of the system is modeled</p>
</li>
<li>
<p>You can keep your model indefinitely and use transformations and code generation to deploy to different environments</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="small">Source: Learning UML 2.0 by Russ Miles; Kim Hamilton Published by O&#8217;Reilly Media, Inc., 2006</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_classes">Classes</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/classes_uml.png" alt="classes uml">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_atributes_and_relations_in_uml">Atributes and Relations in UML</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/attribute_relations_uml.png" alt="attribute relations uml">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/visibility_uml.png" alt="visibility uml">
</div>
</div>
<div class="paragraph">
<p><span class="small">Source: Learning UML 2.0 by Russ Miles; Kim Hamilton Published by O&#8217;Reilly Media, Inc., 2006</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_class_methods">Class Methods</h2>
<div class="sectionbody">
<div class="imageblock" style="float: left">
<div class="content">
<img src="./images/class_methods_uml.png" alt="class methods uml">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/class_methods_2_uml.png" alt="class methods 2 uml">
</div>
</div>
<div class="paragraph">
<p>&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br></p>
</div>
<div class="paragraph">
<p><span class="small">Source: Learning UML 2.0 by Russ Miles; Kim Hamilton Published by O&#8217;Reilly Media, Inc., 2006</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_static_fields">Static Fields</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>static</code> is conveyed with an underline</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/static_underline_uml.png" alt="static underline uml">
</div>
</div>
<div class="paragraph">
<p><span class="small">Source: Learning UML 2.0 by Russ Miles; Kim Hamilton Published by O&#8217;Reilly Media, Inc., 2006</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_abstract">Abstract</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>abstract</code> is conveyed in italics</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/static_underline_uml.png" alt="static underline uml">
</div>
</div>
<div class="paragraph">
<p><span class="small">Source: Learning UML 2.0 by Russ Miles; Kim Hamilton Published by O&#8217;Reilly Media, Inc., 2006</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_interfaces">Interfaces</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>interface</code> is conveyed either with the interface stereotype or the ball notation</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/interface_ball_uml.png" alt="interface ball uml">
</div>
<div class="title">Figure 1. Ball Notation</div>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/interface_stereotype_uml.png" alt="interface stereotype uml">
</div>
<div class="title">Figure 2. Stereotype Notation</div>
</div>
<div class="paragraph">
<p><span class="small">Source: Learning UML 2.0 by Russ Miles; Kim Hamilton Published by O&#8217;Reilly Media, Inc., 2006</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_concrete_to_abstract_to_interface">Concrete to Abstract to Interface</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Here is a complete inheritance chain using concrete, <code>abstract</code>, and <code>interface</code></p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/concrete-abstract-interface_uml.png" alt="concrete abstract interface uml">
</div>
</div>
<div class="paragraph">
<p><span class="small">Source: Learning UML 2.0 by Russ Miles; Kim Hamilton Published by O&#8217;Reilly Media, Inc., 2006</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dependencies">Dependencies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Diagram of all the different kinds of dependencies</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/dependencies.png" alt="dependencies">
</div>
</div>
<div class="paragraph">
<p><span class="small">Source: Learning UML 2.0 by Russ Miles; Kim Hamilton Published by O&#8217;Reilly Media, Inc., 2006</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_use_dependency">Use Dependency</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A standard dependency declares that a class needs to know about another class to use objects of that class</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/dependency_uml.png" alt="dependency uml">
</div>
</div>
<div class="paragraph">
<p><span class="small">Source: Learning UML 2.0 by Russ Miles; Kim Hamilton Published by O&#8217;Reilly Media, Inc., 2006</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_association_dependency">Association Dependency</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Association - A class will actually contain a reference to an object, or objects, of the other class in the form of an attribute</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/association_dep_uml.png" alt="association dep uml">
</div>
</div>
<div class="paragraph">
<p><span class="small">Source: Learning UML 2.0 by Russ Miles; Kim Hamilton Published by O&#8217;Reilly Media, Inc., 2006</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_aggregation_dependency">Aggregation Dependency</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A stronger version of association and is used to indicate that a class actually owns but may share objects of another class.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/aggregation_uml.png" alt="aggregation uml">
</div>
</div>
<div class="paragraph">
<p><span class="small">Source: Learning UML 2.0 by Russ Miles; Kim Hamilton Published by O&#8217;Reilly Media, Inc., 2006</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_composition_dependency">Composition Dependency</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Composition - association of an element or elements that are not exposed</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/composition_uml.png" alt="composition uml">
</div>
</div>
<div class="paragraph">
<p><span class="small">Source: Learning UML 2.0 by Russ Miles; Kim Hamilton Published by O&#8217;Reilly Media, Inc., 2006</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_generalization">Generalization</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Inheritance - One type has a "is-a" relationship with another</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/generalization_uml.png" alt="generalization uml">
</div>
</div>
<div class="paragraph">
<p><span class="small">Source: Learning UML 2.0 by Russ Miles; Kim Hamilton Published by O&#8217;Reilly Media, Inc., 2006</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_inner_class_dependency">Inner Class Dependency</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The circle with a cross is an anchor, and denotes that one is an inner-class of another class</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/nested_class_uml.png" alt="nested class uml">
</div>
</div>
<div class="paragraph">
<p><span class="small">Source: <a href="https://www.uml-diagrams.org/nested-classifier.html" class="bare">https://www.uml-diagrams.org/nested-classifier.html</a></span></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_software_development_techniques">Software Development Techniques</h2>
<div class="sectionbody">
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_test_driven_development">Test Driven Development</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_the_rules">The Rules</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Quickly add a test.</p>
</li>
<li>
<p>Run all tests and see the new one fail.</p>
</li>
<li>
<p>Make a little change.</p>
</li>
<li>
<p>Run all tests and see them all succeed.</p>
</li>
<li>
<p>Refactor to remove duplication.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Kent Beck – Test Driven Development By Example 2003</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_another_perspective">Another Perspective</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Write a failing test</p>
</li>
<li>
<p>Write code to make it pass</p>
</li>
<li>
<p>Repeat steps 1 and 2</p>
</li>
<li>
<p>Along the way, refactor aggressively</p>
</li>
<li>
<p>When you can&#8217;t think of any more tests, you must be done</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Neal Ford – Evolutionary Architecture and Emergent Design 2009</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_purpose">Purpose</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Cleaner API</p>
</li>
<li>
<p>Better Testing Coverage</p>
</li>
<li>
<p>Promotes design decisions up front</p>
</li>
<li>
<p>Allows you and your team to understand your code</p>
</li>
<li>
<p>Model the API the way you want it to look</p>
</li>
<li>
<p>Means of communicating an API before implementation</p>
</li>
<li>
<p>Avoids Technical Debt</p>
</li>
<li>
<p>Can be used with any programming language</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_the_three_tdd_laws">The Three TDD Laws</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_law_1_dont_do_production_without_a_test">Law 1: Don&#8217;t do Production without a test</h2>
<div class="sectionbody">
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>You may not write production code until you have written a failing unit test.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; Bob Martin<br>
<cite>Clean Code 2008</cite>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_law_2_keep_unit_tests_light">Law 2: Keep Unit Tests Light</h2>
<div class="sectionbody">
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>You may not write more of a unit test than is sufficient to fail</p>
</div>
</blockquote>
<div class="attribution">
&#8212; Bob Martin<br>
<cite>Clean Code 2008</cite>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_law_3_dont_do_more_production_without_a_test">Law 3: Don&#8217;t do more production without a test</h2>
<div class="sectionbody">
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>You may not write more production code than is sufficient to pass the currently failing test.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; Bob Martin<br>
<cite>Clean Code 2008</cite>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_demo_fizzbuzz">Demo: <code>FizzBuzz</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>According to <a href="http://wiki.c2.com/?FizzBuzzTest" class="bare">http://wiki.c2.com/?FizzBuzzTest</a></p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>The "Fizz-Buzz test" is an interview question designed to help filter out the 99.5% of programming job
candidates who can&#8217;t seem to program their way out of a wet paper bag.
The text of the programming assignment is as follows:</p>
</div>
</blockquote>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_demo_fizzbuzz_2">Demo: <code>FizzBuzz</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Write a program that prints the numbers from 1 to 100.
But for multiples of three print "Fizz" instead of the
number and for the multiples of five print "Buzz". For
numbers which are multiples of both three and five
print "FizzBuzz"</p>
</div>
<div class="paragraph">
<p>Sample output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>1
2
Fizz
4
Buzz
Fizz
7
8
Fizz
Buzz
11
Fizz
13
14
FizzBuzz
16
17
Fizz
19
Buzz</pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_lab_test_driven_development">Lab: Test Driven Development</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Step 1:</strong> In design_patterns_training, ensure that a <em>src/test/java</em> folder exists and
a package called <code>com.xyzcorp.tdd</code>, if not create them.</p>
</div>
<div class="paragraph">
<p><strong>Step 2:</strong> In the <code>com.xyzcorp.tdd</code> package, create a test class called <code>ProgrammerTest</code></p>
</div>
<div class="paragraph">
<p><strong>Step 3:</strong> In the <code>ProgrammerTest</code>, create a set of tests using Test Driven Development that will
inevitably develop the following code:</p>
</div>
<div class="listingblock">
<div class="title">Test the full name</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java">import java.time.*

Programmer programmer = new Programmer(
   "Bjarne", "Strousoup", LocalDate.of(1950, 12, 30), () -> LocalDate.of(2018, 6, 1))
assertEquals("Bjarne Strousoup", programmer.getFullName)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Test the age</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java">import java.time.*

Programmer programmer = new Programmer(
   "Bjarne", "Strousoup", LocalDate.of(1950, 12, 30), () -> LocalDate.of(2018, 6, 1))
assertEquals(67, programmer.getAge())</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Step 4:</strong> Answer the question: Why the function <code>() &#8594; LocalDate.of(2018, 6, 1)</code>? What purpose does it serve?</p>
</div>
<div class="paragraph">
<p><strong>Step 5:</strong> If you have extra time, add tests for <code>toString</code>, <code>equals</code>, and <code>hashCode</code></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_design_by_contract_dbc">Design by Contract (DbC)</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_benefits_of_design_by_contract">Benefits of Design by Contract</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The benefits of Design by Contract include the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A better understanding of the object-oriented method and, more generally, of software construction</p>
</li>
<li>
<p>A systematic approach to building bug-free object-oriented systems</p>
</li>
<li>
<p>An effective framework for debugging, testing and, more generally, quality assurance</p>
</li>
<li>
<p>A method for documenting software components</p>
</li>
<li>
<p>Better understanding and control of the inheritance mechanism</p>
</li>
<li>
<p>A technique for dealing with abnormal cases, leading to a safe and effective language construct for exception handling</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Bertrand Meyer, Eiffel</p>
</div>
<div class="paragraph">
<p><a href="https://archive.eiffel.com/doc/manuals/technology/contract" class="bare">https://archive.eiffel.com/doc/manuals/technology/contract</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_defining_precisely">Defining Precisely</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The immediate objection is that specifying a module&#8217;s purpose will not ensure that it will achieve that specification; this is obviously true, but:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>One may reverse this proposition and note that it we don&#8217;t state what a module should do, there is little likelihood that it will do it. (The law of excluded miracles.)</p>
</li>
<li>
<p>In practice, it is amazing to see how far just stating what a module should do goes towards helping to ensure that it does it.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Design by Contract theory, then, suggests associating a specification with every software element.
These specifications (or contracts) govern the interaction of the element with the rest of the world.</p>
</div>
<div class="paragraph">
<p><a href="https://archive.eiffel.com/doc/manuals/technology/contract" class="bare">https://archive.eiffel.com/doc/manuals/technology/contract</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_notion_of_a_contract">The notion of a contract</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Table of Contracts</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obligations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Benefits</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ensure Precondition: <em>Be at the Santa Barbara airport at least 5 minutes before scheduled departure time. Bring only acceptable baggage. Pay ticket price.</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Benefit from Postcondition: <em>Reach Chicago</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supplier</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ensure Postcondition: <em>Bring customer to Chicago</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Assume Precondition: <em>No need to carry passenger who is late, has unacceptable baggage, or has not paid ticket price</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="https://archive.eiffel.com/doc/manuals/technology/contract" class="bare">https://archive.eiffel.com/doc/manuals/technology/contract</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_assuming_the_same_rules_for_software">Assuming the same rules for software</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>The same ideas apply to software.</p>
</li>
<li>
<p>Consider a software element <code>E</code>, to achieve its purpose (fulfil its own contract):</p>
<div class="ulist">
<ul>
<li>
<p><code>E</code> uses a certain strategy, which involves a number of subtasks, <code>t1</code>, &#8230;&#8203; <code>tn</code>.</p>
</li>
<li>
<p>If subtask <code>ti</code> is non-trivial, it will be achieved by calling a certain routine <code>R</code>.</p>
</li>
<li>
<p>In other words, <code>E</code> contracts out the subtask to R.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Such a situation should be governed by a well-defined roster of obligations and benefits&#8201;&#8212;&#8201;<strong>a contract</strong></p>
</div>
<div class="paragraph">
<p><a href="https://archive.eiffel.com/doc/manuals/technology/contract" class="bare">https://archive.eiffel.com/doc/manuals/technology/contract</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_notion_of_a_contract_in_software">The notion of a contract in software</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Table of Contracts for a Map</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obligations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Benefits</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ensure Precondition: <em>Make sure table is not full and key is a non-empty string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Benefit from Postcondition: <em>Get updated table where the given element now appears, associated with the given key</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supplier</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ensure Postcondition: <em>Record given element in table, associated with given key</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Assume Precondition: <em>No need to do anything if table is full, or key is empty string</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="https://archive.eiffel.com/doc/manuals/technology/contract" class="bare">https://archive.eiffel.com/doc/manuals/technology/contract</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_example_of_a_contract">Example of a contract</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following is in the language, Eiffel</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="eiffel"><span></span><span class="tok-n">put</span> <span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">:</span> <span class="tok-nc">ELEMENT</span><span class="tok-p">;</span> <span class="tok-n">key</span><span class="tok-p">:</span> <span class="tok-nc">STRING</span><span class="tok-p">)</span> <span class="tok-n">is</span>
   <span class="tok-c1">-- Insert x so that it will be retrievable through key.</span>
   <span class="tok-kr">require</span>
     <span class="tok-n">count</span> <span class="tok-o">&lt;=</span> <span class="tok-n">capacity</span>
     <span class="tok-ow">not</span> <span class="tok-n">key</span><span class="tok-p">.</span><span class="tok-n">empty</span>
   <span class="tok-kr">do</span>
     <span class="tok-p">...</span> <span class="tok-n">Some</span> <span class="tok-n">insertion</span> <span class="tok-n">algorithm</span> <span class="tok-p">...</span>
   <span class="tok-kr">ensure</span>
     <span class="tok-n">has</span> <span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">)</span>
     <span class="tok-n">item</span> <span class="tok-p">(</span><span class="tok-n">key</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-n">x</span>
     <span class="tok-n">count</span> <span class="tok-o">=</span> <span class="tok-kr">old</span> <span class="tok-n">count</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
<span class="tok-kr">end</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>require</code> clause introduces an input condition, or precondition</p>
</li>
<li>
<p>The <code>ensure</code> clause introduces an output condition, or postcondition.</p>
</li>
<li>
<p>Both of these conditions are examples of assertions, or logical conditions (contract clauses) associated with software elements.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="https://archive.eiffel.com/doc/manuals/technology/contract" class="bare">https://archive.eiffel.com/doc/manuals/technology/contract</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_invariants">Invariants</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Preconditions and postconditions apply to individual routines.</p>
</li>
<li>
<p>Other kinds of assertions will characterize a class as a whole, rather than its individual routines.</p>
</li>
<li>
<p>An assertion describing a property which holds of all instances of a class is called a class <em>invariant</em>.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="eiffel"><span></span><span class="tok-kr">class</span> <span class="tok-n">interface</span> <span class="tok-nc">DICTIONARY</span> <span class="tok-o">[</span><span class="tok-nc">ELEMENT</span><span class="tok-o">]</span> <span class="tok-kr">feature</span>
   <span class="tok-n">put</span> <span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">:</span> <span class="tok-nc">ELEMENT</span><span class="tok-p">;</span> <span class="tok-n">key</span><span class="tok-p">:</span> <span class="tok-nc">STRING</span><span class="tok-p">)</span> <span class="tok-n">is</span>
     <span class="tok-c1">-- Insert x so that it will be retrievable</span>
     <span class="tok-c1">-- through key.</span>
     <span class="tok-kr">require</span>
        <span class="tok-n">count</span> <span class="tok-o">&lt;=</span> <span class="tok-n">capacity</span>
        <span class="tok-ow">not</span> <span class="tok-n">key</span><span class="tok-p">.</span><span class="tok-n">empty</span>
     <span class="tok-kr">ensure</span>
        <span class="tok-n">has</span> <span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">)</span>
        <span class="tok-n">item</span> <span class="tok-p">(</span><span class="tok-n">key</span><span class="tok-p">)</span> <span class="tok-o">=</span> <span class="tok-n">x</span>
        <span class="tok-n">count</span> <span class="tok-o">=</span> <span class="tok-kr">old</span> <span class="tok-n">count</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
     <span class="tok-p">...</span> <span class="tok-n">Interface</span> <span class="tok-n">specifications</span> <span class="tok-n">of</span> <span class="tok-n">other</span> <span class="tok-n">features</span> <span class="tok-p">...</span>

  <span class="tok-kr">invariant</span>
     <span class="tok-mi">0</span> <span class="tok-o">&lt;=</span> <span class="tok-n">count</span>
     <span class="tok-n">count</span> <span class="tok-o">&lt;=</span> <span class="tok-n">capacity</span>

<span class="tok-kr">end</span> <span class="tok-c1">-- class interface DICTIONARY</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="https://archive.eiffel.com/doc/manuals/technology/contract" class="bare">https://archive.eiffel.com/doc/manuals/technology/contract</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_further_notes_on_invariant">Further notes on <code>invariant</code></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><code>invariant</code> are consistency constraints.</p>
</li>
<li>
<p>Important for configuration management and regression testing,</p>
</li>
<li>
<p>It describes the deeper properties of a class</p>
</li>
<li>
<p>It also describes the constraints which must also apply to subsequent changes.</p>
</li>
<li>
<p>Viewed from the contract theory, an invariant is a general clause which applies to the entire set of contracts defining a class</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="https://archive.eiffel.com/doc/manuals/technology/contract" class="bare">https://archive.eiffel.com/doc/manuals/technology/contract</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dbc_and_testing">DbC and Testing</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>We should be able to prove mathematically that the routine implementations are consistent with the assertions</p>
</li>
<li>
<p>Powerful tools for finding mistakes</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="https://archive.eiffel.com/doc/manuals/technology/contract" class="bare">https://archive.eiffel.com/doc/manuals/technology/contract</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_contracts_and_subclassing">Contracts and Subclassing</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>An subclass or subcontractor <strong><em>must</em></strong> be bound to original semantic contract</p>
</li>
<li>
<p>In DbC, Strengthening the precondition, or weakening the postcondition, would be a case of "dishonest subcontracting" and could lead to disaster</p>
</li>
<li>
<p>See also, Liskov Substitution Principle:</p>
</li>
</ul>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>If S is a subtype of T, then objects of type T may be replaced with objects of type S (i.e. an object of type T may be substituted with any object of a subtype S) without altering any of the desirable properties of the program (correctness, task performed, etc.)</p>
</div>
</blockquote>
<div class="attribution">
&#8212; Barbara Liskov<br>
<cite>Liskov Substitution Principle</cite>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_exceptions">Exceptions</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>An exception is an inability to fulfill a contract</p>
</li>
<li>
<p>The only responses that make sense:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Retrying: an alternative strategy is available. The routine will restore the invariant and make another attempt, using the new strategy</p>
</li>
<li>
<p>Organized panic: no such alternative is available. Restore the invariant, terminate, and report failure to the caller by triggering a new exception</p>
</li>
<li>
<p>False alarm: it is in fact possible to continue, perhaps after taking some corrective measures. This case seldom occurs</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_exceptions_in_eiffel">Exceptions in Eiffel</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="eiffel"><span></span><span class="tok-n">attempt_transmission</span> <span class="tok-p">(</span><span class="tok-n">message</span><span class="tok-p">:</span> <span class="tok-nc">STRING</span><span class="tok-p">)</span> <span class="tok-n">is</span>
  <span class="tok-c1">-- Attempt to transmit message over a communication line</span>
  <span class="tok-c1">-- using the low-level (e.g. C) procedure unsafe_transmit,</span>
  <span class="tok-c1">-- which may fail, triggering an exception.</span>
  <span class="tok-c1">-- After 100 unsuccessful attempts, give up (triggering</span>
  <span class="tok-c1">-- an exception in the caller).</span>

  <span class="tok-kr">local</span>
    <span class="tok-n">failures</span><span class="tok-p">:</span> <span class="tok-nc">INTEGER</span>
  <span class="tok-kr">do</span>
    <span class="tok-n">unsafe_transmit</span> <span class="tok-p">(</span><span class="tok-n">message</span><span class="tok-p">)</span>

  <span class="tok-kr">rescue</span>
    <span class="tok-n">failures</span> <span class="tok-o">:=</span> <span class="tok-n">failures</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>
    <span class="tok-kr">if</span> <span class="tok-n">failures</span> <span class="tok-o">&lt;</span> <span class="tok-mi">100</span> <span class="tok-kr">then</span>
       <span class="tok-kr">retry</span>
  <span class="tok-kr">end</span>
<span class="tok-kr">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="https://archive.eiffel.com/doc/manuals/technology/contract" class="bare">https://archive.eiffel.com/doc/manuals/technology/contract</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_design_by_contract_conclusion">Design by Contract Conclusion</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Design by Contract has already been widely applied</p>
</li>
<li>
<p>The theory provides a powerful thread throughout the object-oriented method</p>
</li>
<li>
<p>Addresses many of the issues that many people are encountering as they start applying O-O techniques and languages seriously</p>
<div class="ulist">
<ul>
<li>
<p>What kind of "methodology" to apply</p>
</li>
<li>
<p>What concepts to base the analysis step</p>
</li>
<li>
<p>How to specify components</p>
</li>
<li>
<p>How to document object-oriented software</p>
</li>
<li>
<p>How to guide the testing process</p>
</li>
<li>
<p>How to build software so that bugs do not show up in the first place.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>In software development, reliability should be built-in, not an afterthought.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_creational_patterns">Creational Patterns</h2>
<div class="sectionbody">
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_factory_method_pattern">Factory Method Pattern</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_factory_method_pattern_properties">Factory Method Pattern Properties</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Type:</strong> Creational</p>
</li>
<li>
<p><strong>Level:</strong> Class</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_factory_method_pattern_purpose">Factory Method Pattern Purpose</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To define a standard method to create an object, apart
from a constructor, but the decision of what kind of
an object to create is left to subclasses.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_factory_method_canonical_diagram">Factory Method Canonical Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/diagram-classes.png" alt="diagram classes" width="467" height="456">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_factory_method_ingredients">Factory Method Ingredients</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Product</strong> – The <code>interface</code> of objects created by the factory</p>
</div>
<div class="paragraph">
<p><strong>ConcreteProduct</strong> – The implementing class of <strong>Product</strong>. Objects of this class are created by the <strong>ConcreteCreator</strong>.</p>
</div>
<div class="paragraph">
<p><strong>Creator</strong> – The <code>interface</code> that defines the factory methods</p>
</div>
<div class="paragraph">
<p><strong>ConcreteCreator</strong> – The class that extends <strong>Creator</strong> and that provides an implementation for the factoryMethod. This can return any object that implements the <strong>Product</strong> interface.</p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_factory_method_demo_diagram">Factory Method Demo Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/factory_method_uml.png" alt="factory method uml">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_factory_method_advantages">Factory Method Advantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Extensible</p>
</li>
<li>
<p>Leave decision of specificity until later</p>
</li>
<li>
<p>Subclass, not superclass, determines the kind of object to create</p>
</li>
<li>
<p>You know when to create an object, but not what kind of an object.</p>
</li>
<li>
<p>You need several overloaded constructors with the same parameter list, which is not allowed in Java.  Instead, use several Factory Methods with different names.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_factory_method_disadvantages">Factory Method Disadvantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>To create a new type you must create a separate subclass</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_factory_method_product">Factory Method: Product</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">Country</span> <span class="tok-o">{</span>
    <span class="tok-kd">public</span> <span class="tok-n">String</span> <span class="tok-nf">getName</span><span class="tok-o">();</span>

    <span class="tok-kd">public</span> <span class="tok-kt">byte</span><span class="tok-o">[]</span> <span class="tok-nf">getFlag</span><span class="tok-o">();</span>

    <span class="tok-kd">public</span> <span class="tok-n">String</span> <span class="tok-nf">capital</span><span class="tok-o">();</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_factory_method_concrete_product">Factory Method: Concrete Product</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span>
<span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">ConcreteCountry</span> <span class="tok-kd">implements</span> <span class="tok-n">Country</span> <span class="tok-o">{</span>

    <span class="tok-kd">private</span> <span class="tok-n">String</span> <span class="tok-n">name</span><span class="tok-o">;</span>
    <span class="tok-kd">private</span> <span class="tok-n">String</span> <span class="tok-n">capital</span><span class="tok-o">;</span>
    <span class="tok-kd">private</span> <span class="tok-kt">byte</span><span class="tok-o">[]</span> <span class="tok-n">flagBytes</span><span class="tok-o">;</span>

    <span class="tok-kd">public</span> <span class="tok-nf">ConcreteCountry</span><span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">name</span><span class="tok-o">,</span> <span class="tok-kt">byte</span><span class="tok-o">[]</span> <span class="tok-n">flagBytes</span><span class="tok-o">,</span> <span class="tok-n">String</span> <span class="tok-n">capital</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">name</span> <span class="tok-o">=</span> <span class="tok-n">name</span><span class="tok-o">;</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">capital</span> <span class="tok-o">=</span> <span class="tok-n">capital</span><span class="tok-o">;</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">flagBytes</span> <span class="tok-o">=</span> <span class="tok-n">flagBytes</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-n">String</span> <span class="tok-nf">getName</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-n">name</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-kt">byte</span><span class="tok-o">[]</span> <span class="tok-nf">getFlag</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-n">flagBytes</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-n">String</span> <span class="tok-nf">capital</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-n">capital</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_factory_method_creator">Factory Method: Creator</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">CountryFactory</span> <span class="tok-o">{</span>
    <span class="tok-kd">public</span> <span class="tok-n">Country</span> <span class="tok-nf">createCountry</span><span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">name</span><span class="tok-o">,</span> <span class="tok-kt">byte</span><span class="tok-o">[]</span> <span class="tok-n">flag</span><span class="tok-o">,</span> <span class="tok-n">String</span> <span class="tok-n">capital</span><span class="tok-o">);</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_factory_method_concrete_creator">Factory Method: Concrete Creator</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">ConcreteCountryFactory</span> <span class="tok-kd">implements</span> <span class="tok-n">CountryFactory</span> <span class="tok-o">{</span>
    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-n">Country</span> <span class="tok-nf">createCountry</span><span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">name</span><span class="tok-o">,</span> <span class="tok-kt">byte</span><span class="tok-o">[]</span> <span class="tok-n">flag</span><span class="tok-o">,</span> <span class="tok-n">String</span> <span class="tok-n">capital</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-k">new</span> <span class="tok-n">ConcreteCountry</span><span class="tok-o">(</span><span class="tok-n">name</span><span class="tok-o">,</span> <span class="tok-n">flag</span><span class="tok-o">,</span> <span class="tok-n">capital</span><span class="tok-o">);</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_builder_pattern">Builder Pattern</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_builder_pattern_properties">Builder Pattern Properties</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Type:</strong> Creational</p>
</li>
<li>
<p><strong>Level:</strong> Component</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_builder_pattern_purpose">Builder Pattern Purpose</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To simplify complex object creation by defining a class
whose purpose is to build instances of another class.
The Builder produces one main product, such that there might
be more than one class in the product, but there is always
one main class.</p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_builder_pattern_canonical_diagram">Builder Pattern Canonical Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/builder-pattern.png" alt="builder pattern" width="231" height="551">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_builder_pattern_ingredients">Builder Pattern Ingredients</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Director</strong> – Has a reference to an <strong>AbstractBuilder</strong> instance. The <strong>Director</strong> calls the
creational methods on its builder instance to have the different parts and the Builder build.</p>
</div>
<div class="paragraph">
<p><strong>AbstractBuilder</strong> – The interface that defines the available methods
to create the separate parts of the product.</p>
</div>
<div class="paragraph">
<p><strong>ConcreteBuilder</strong> – Implements the <strong>AbstractBuilder</strong> interface. The <strong>ConcreteBuilder</strong>
implements all the methods required to create a real Product. The
implementation of the methods knows how to process information from the
<strong>Director</strong> and build the respective parts of a Product.
The <strong>ConcreteBuilder</strong> also has either a <code>getProduct</code> method or a
creational method to return the <strong>Product</strong> instance.</p>
</div>
<div class="paragraph">
<p><strong>Product</strong> – The resulting object. You can define the product as either an interface (preferable) or class.</p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_builder_pattern_advantages">Builder Pattern Advantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Works well if you have complex state in an object</p>
</li>
<li>
<p>Avoids complicated constructors</p>
</li>
<li>
<p>Avoids complicated object graph initialization</p>
</li>
<li>
<p>Works particularly well for dependencies that are difficult to setup</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_builder_pattern_disadvantages">Builder Pattern Disadvantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Tight coupling in the builder and its product</p>
</li>
<li>
<p>Any changes in the product would affect the builder</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_builder_pattern_demo_diagram">Builder Pattern Demo Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/builder_uml.png" alt="builder uml">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_builder_director">Builder: Director</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">EspressoDrinkMaker</span> <span class="tok-o">{</span>

    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-n">EspressoDrinkBuilder</span> <span class="tok-nf">addShots</span><span class="tok-o">(</span><span class="tok-kt">int</span> <span class="tok-n">i</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-k">new</span> <span class="tok-n">EspressoDrinkBuilder</span><span class="tok-o">(</span><span class="tok-n">i</span><span class="tok-o">);</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_builder_concrete_builder">Builder: Concrete Builder</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">EspressoDrinkBuilder</span> <span class="tok-o">{</span>
    <span class="tok-kd">private</span> <span class="tok-kt">boolean</span> <span class="tok-n">whip</span><span class="tok-o">;</span>
    <span class="tok-kd">private</span> <span class="tok-kt">boolean</span> <span class="tok-n">sprinkles</span><span class="tok-o">;</span>
    <span class="tok-kd">private</span> <span class="tok-kt">int</span> <span class="tok-n">shots</span><span class="tok-o">;</span>

    <span class="tok-kd">public</span> <span class="tok-nf">EspressoDrinkBuilder</span><span class="tok-o">(</span><span class="tok-kt">int</span> <span class="tok-n">shots</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">shots</span> <span class="tok-o">=</span> <span class="tok-n">shots</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-n">EspressoDrinkBuilder</span> <span class="tok-nf">addWhip</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">whip</span> <span class="tok-o">=</span> <span class="tok-kc">true</span><span class="tok-o">;</span>
        <span class="tok-k">return</span> <span class="tok-k">this</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-n">EspressoDrinkBuilder</span> <span class="tok-nf">addSprinkles</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">sprinkles</span> <span class="tok-o">=</span> <span class="tok-kc">true</span><span class="tok-o">;</span>
        <span class="tok-k">return</span> <span class="tok-k">this</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-n">EspressoDrink</span> <span class="tok-nf">build</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-k">new</span> <span class="tok-n">EspressoDrink</span><span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">);</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_builder_product">Builder: Product</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">EspressoDrink</span> <span class="tok-o">{</span>
    <span class="tok-kd">private</span> <span class="tok-kt">int</span> <span class="tok-n">shots</span><span class="tok-o">;</span>
    <span class="tok-kd">private</span> <span class="tok-kt">boolean</span> <span class="tok-n">sprinkles</span><span class="tok-o">;</span>
    <span class="tok-kd">private</span> <span class="tok-kt">boolean</span> <span class="tok-n">whip</span><span class="tok-o">;</span>

    <span class="tok-kd">protected</span> <span class="tok-nf">EspressoDrink</span><span class="tok-o">(</span><span class="tok-n">EspressoDrinkBuilder</span> <span class="tok-n">espressoDrinkBuilder</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">shots</span> <span class="tok-o">=</span> <span class="tok-n">espressoDrinkBuilder</span><span class="tok-o">.</span><span class="tok-na">getShots</span><span class="tok-o">();</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">sprinkles</span> <span class="tok-o">=</span> <span class="tok-n">espressoDrinkBuilder</span><span class="tok-o">.</span><span class="tok-na">isSprinkles</span><span class="tok-o">();</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">whip</span> <span class="tok-o">=</span> <span class="tok-n">espressoDrinkBuilder</span><span class="tok-o">.</span><span class="tok-na">isWhip</span><span class="tok-o">();</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_lab_making_a_builder">Lab: Making a Builder</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Step 1:</strong> In design_patterns_training, ensure that a <em>src/test/java</em> folder exists and
a package called <code>com.xyzcorp.builder</code>, if not create them.</p>
</div>
<div class="paragraph">
<p><strong>Step 2:</strong> In the <code>com.xyzcorp.builder</code> package, create a test class called <code>BuilderTest</code></p>
</div>
<div class="paragraph">
<p><strong>Step 3:</strong> In the <code>BuilderTest</code>, create a set of tests using Test Driven Development that will
inevitably develop the following code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">Flower</span> <span class="tok-n">f</span> <span class="tok-o">=</span> <span class="tok-n">Flower</span><span class="tok-o">.</span><span class="tok-na">builder</span><span class="tok-o">()</span>
  <span class="tok-o">.</span><span class="tok-na">petals</span><span class="tok-o">(</span><span class="tok-mi">7</span><span class="tok-o">)</span>
  <span class="tok-o">.</span><span class="tok-na">color</span><span class="tok-o">(</span><span class="tok-s">&quot;Yellow&quot;</span><span class="tok-o">)</span>
  <span class="tok-o">.</span><span class="tok-na">latinName</span><span class="tok-o">(</span><span class="tok-s">&quot;Narcissus&quot;</span><span class="tok-o">)</span>
  <span class="tok-o">.</span><span class="tok-na">build</span><span class="tok-o">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Step 4:</strong> Ensure that your tests will test different combinations</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_lab_using_a_prefabricated_builder">Lab: Using a Prefabricated Builder</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Step 1:</strong> In the <em>src/test/java</em> folder an in the <code>com.xyzcorp.builder</code> package, create a test class called <code>GuavaBuilderTest</code></p>
</div>
<div class="paragraph">
<p><strong>Step 2:</strong> Guava is amazing with a wealth of utilities. Go to <a href="http://javadoc.scijava.org/Guava" class="bare">http://javadoc.scijava.org/Guava</a> and look around</p>
</div>
<div class="paragraph">
<p><strong>Step 3:</strong> In the website that you just open go to the <code>com.google.common.collect</code> package, and select either one of these interesting immutable collections:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ImmutableBiMap</code></p>
</li>
<li>
<p><code>ImmutableMultiMap</code></p>
</li>
<li>
<p><code>ImmutableMultiSet</code></p>
</li>
<li>
<p><code>ImmutableSortedMultiSet</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Step 4:</strong> Given your choice, write a battery of tests that shows what that collection does, be prepared to explain it. All of these use a Builder pattern.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_singleton_pattern">Singleton Pattern</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_singleton_pattern_properties">Singleton Pattern Properties</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Type:</strong> Creational</p>
</li>
<li>
<p><strong>Level:</strong> Object</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_singleton_pattern_purpose">Singleton Pattern Purpose</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To have only one instance of this class in the system,
while allowing other classes to get access to this instance.</p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_singleton_canonical_diagram">Singleton Canonical Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/singleton-pattern.png" alt="singleton pattern" width="241" height="129">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_singleton_ingredients">Singleton Ingredients</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Singleton</strong> – Provides a private constructor, maintains
a private static reference to the single instance
of this class, and provides a static accessor method
to return a reference to the single instance.</p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_singleton_demo_diagram">Singleton Demo Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/singleton_uml.png" alt="singleton uml">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_singleton_pattern_advantages">Singleton Pattern Advantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>If done right, can delay use of an object</p>
</li>
<li>
<p>Ensures a single object at all times</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_singleton_pattern_disadvantages">Singleton Pattern Disadvantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Abuse especially among beginning programmers</p>
</li>
<li>
<p>Difficulty in unit testing</p>
</li>
<li>
<p>Often unnecessary, particularly in dependency injection frameworks</p>
</li>
<li>
<p>No control over who accesses the object</p>
</li>
<li>
<p>Once you go singleton, it&#8217;s tough to change</p>
</li>
<li>
<p>Can expose threading issues, where duplicates can be created</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_singleton_an_eager_implementation">Singleton: An Eager Implementation</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">EagerSingleton</span> <span class="tok-o">{</span>
    <span class="tok-kd">private</span> <span class="tok-kd">static</span> <span class="tok-n">EagerSingleton</span> <span class="tok-n">instance</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">EagerSingleton</span><span class="tok-o">();</span>

    <span class="tok-kd">private</span> <span class="tok-nf">EagerSingleton</span><span class="tok-o">()</span> <span class="tok-o">{</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-n">EagerSingleton</span> <span class="tok-nf">getInstance</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-n">instance</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_singleton_a_lazy_non_thread_safe_implementation">Singleton: A Lazy Non-Thread-Safe Implementation</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">WrongLazySingleton</span> <span class="tok-o">{</span>
    <span class="tok-kd">private</span> <span class="tok-kd">static</span> <span class="tok-n">WrongLazySingleton</span> <span class="tok-n">instance</span> <span class="tok-o">=</span> <span class="tok-kc">null</span><span class="tok-o">;</span>

    <span class="tok-kd">private</span> <span class="tok-nf">WrongLazySingleton</span><span class="tok-o">()</span> <span class="tok-o">{</span> <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-n">WrongLazySingleton</span> <span class="tok-nf">getInstance</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">instance</span> <span class="tok-o">==</span> <span class="tok-kc">null</span><span class="tok-o">)</span> <span class="tok-o">{</span>
            <span class="tok-n">instance</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">WrongLazySingleton</span><span class="tok-o">();</span>
        <span class="tok-o">}</span>
        <span class="tok-k">return</span> <span class="tok-n">instance</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_singleton_a_lazy_thread_safe_implementation">Singleton: A Lazy Thread-Safe Implementation</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">RightLazySingleton</span> <span class="tok-o">{</span>
    <span class="tok-kd">private</span> <span class="tok-kd">static</span> <span class="tok-n">RightLazySingleton</span> <span class="tok-n">instance</span><span class="tok-o">;</span>

    <span class="tok-kd">private</span> <span class="tok-nf">RightLazySingleton</span><span class="tok-o">()</span> <span class="tok-o">{}</span>

    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kd">synchronized</span> <span class="tok-n">RightLazySingleton</span> <span class="tok-nf">getInstance</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">instance</span> <span class="tok-o">==</span> <span class="tok-kc">null</span><span class="tok-o">)</span> <span class="tok-o">{</span>
            <span class="tok-n">instance</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">RightLazySingleton</span><span class="tok-o">();</span>
        <span class="tok-o">}</span>
        <span class="tok-k">return</span> <span class="tok-n">instance</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>synchronized</code> would obtain a lock on the class since the method is <code>static</code>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_singleton_an_enum_of_one">Singleton: An <code>enum</code> of one</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Recommended way to create a Singleton in Java:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">enum</span> <span class="tok-n">EnumSingleton</span> <span class="tok-o">{</span>
     <span class="tok-n">INSTANCE</span><span class="tok-o">;</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To use this&#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">var</span> <span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-n">EnumSingleton</span><span class="tok-o">.</span><span class="tok-na">INSTANCE</span><span class="tok-o">;</span>
<span class="tok-n">var</span> <span class="tok-n">b</span> <span class="tok-o">=</span> <span class="tok-n">EnumSingleton</span><span class="tok-o">.</span><span class="tok-na">INSTANCE</span><span class="tok-o">;</span>

<span class="tok-n">a</span><span class="tok-o">.</span><span class="tok-na">equals</span><span class="tok-o">(</span><span class="tok-n">b</span><span class="tok-o">);</span>
<span class="tok-n">a</span><span class="tok-o">.</span><span class="tok-na">hashCode</span><span class="tok-o">()</span> <span class="tok-o">==</span> <span class="tok-n">b</span><span class="tok-o">.</span><span class="tok-na">hashCode</span><span class="tok-o">();</span>
<span class="tok-n">a</span><span class="tok-o">.</span><span class="tok-na">toString</span><span class="tok-o">().</span><span class="tok-na">equals</span><span class="tok-o">(</span><span class="tok-n">b</span><span class="tok-o">.</span><span class="tok-na">toString</span><span class="tok-o">());</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The above uses Java 10&#8217;s new <code>var</code>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_factory_method_pattern_2">Factory Method Pattern</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_factory_method_pattern_properties_2">Factory Method Pattern Properties</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Type:</strong> Creational</p>
</li>
<li>
<p><strong>Level:</strong> Class</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_factory_method_pattern_purpose_2">Factory Method Pattern Purpose</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To define a standard method to create an object, apart
from a constructor, but the decision of what kind of
an object to create is left to subclasses.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_factory_method_canonical_diagram_2">Factory Method Canonical Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/diagram-classes.png" alt="diagram classes" width="467" height="456">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_factory_method_ingredients_2">Factory Method Ingredients</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Product</strong> – The <code>interface</code> of objects created by the factory</p>
</div>
<div class="paragraph">
<p><strong>ConcreteProduct</strong> – The implementing class of <strong>Product</strong>. Objects of this class are created by the <strong>ConcreteCreator</strong>.</p>
</div>
<div class="paragraph">
<p><strong>Creator</strong> – The <code>interface</code> that defines the factory methods</p>
</div>
<div class="paragraph">
<p><strong>ConcreteCreator</strong> – The class that extends <strong>Creator</strong> and that provides an implementation for the factoryMethod. This can return any object that implements the <strong>Product</strong> interface.</p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_factory_method_demo_diagram_2">Factory Method Demo Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/factory_method_uml.png" alt="factory method uml">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_factory_method_advantages_2">Factory Method Advantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Extensible</p>
</li>
<li>
<p>Leave decision of specificity until later</p>
</li>
<li>
<p>Subclass, not superclass, determines the kind of object to create</p>
</li>
<li>
<p>You know when to create an object, but not what kind of an object.</p>
</li>
<li>
<p>You need several overloaded constructors with the same parameter list, which is not allowed in Java.  Instead, use several Factory Methods with different names.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_factory_method_disadvantages_2">Factory Method Disadvantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>To create a new type you must create a separate subclass</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_factory_method_product_2">Factory Method: Product</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">Country</span> <span class="tok-o">{</span>
    <span class="tok-kd">public</span> <span class="tok-n">String</span> <span class="tok-nf">getName</span><span class="tok-o">();</span>

    <span class="tok-kd">public</span> <span class="tok-kt">byte</span><span class="tok-o">[]</span> <span class="tok-nf">getFlag</span><span class="tok-o">();</span>

    <span class="tok-kd">public</span> <span class="tok-n">String</span> <span class="tok-nf">capital</span><span class="tok-o">();</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_factory_method_concrete_product_2">Factory Method: Concrete Product</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span>
<span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">ConcreteCountry</span> <span class="tok-kd">implements</span> <span class="tok-n">Country</span> <span class="tok-o">{</span>

    <span class="tok-kd">private</span> <span class="tok-n">String</span> <span class="tok-n">name</span><span class="tok-o">;</span>
    <span class="tok-kd">private</span> <span class="tok-n">String</span> <span class="tok-n">capital</span><span class="tok-o">;</span>
    <span class="tok-kd">private</span> <span class="tok-kt">byte</span><span class="tok-o">[]</span> <span class="tok-n">flagBytes</span><span class="tok-o">;</span>

    <span class="tok-kd">public</span> <span class="tok-nf">ConcreteCountry</span><span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">name</span><span class="tok-o">,</span> <span class="tok-kt">byte</span><span class="tok-o">[]</span> <span class="tok-n">flagBytes</span><span class="tok-o">,</span> <span class="tok-n">String</span> <span class="tok-n">capital</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">name</span> <span class="tok-o">=</span> <span class="tok-n">name</span><span class="tok-o">;</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">capital</span> <span class="tok-o">=</span> <span class="tok-n">capital</span><span class="tok-o">;</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">flagBytes</span> <span class="tok-o">=</span> <span class="tok-n">flagBytes</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-n">String</span> <span class="tok-nf">getName</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-n">name</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-kt">byte</span><span class="tok-o">[]</span> <span class="tok-nf">getFlag</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-n">flagBytes</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-n">String</span> <span class="tok-nf">capital</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-n">capital</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_factory_method_creator_2">Factory Method: Creator</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">CountryFactory</span> <span class="tok-o">{</span>
    <span class="tok-kd">public</span> <span class="tok-n">Country</span> <span class="tok-nf">createCountry</span><span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">name</span><span class="tok-o">,</span> <span class="tok-kt">byte</span><span class="tok-o">[]</span> <span class="tok-n">flag</span><span class="tok-o">,</span> <span class="tok-n">String</span> <span class="tok-n">capital</span><span class="tok-o">);</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_factory_method_concrete_creator_2">Factory Method: Concrete Creator</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">ConcreteCountryFactory</span> <span class="tok-kd">implements</span> <span class="tok-n">CountryFactory</span> <span class="tok-o">{</span>
    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-n">Country</span> <span class="tok-nf">createCountry</span><span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">name</span><span class="tok-o">,</span> <span class="tok-kt">byte</span><span class="tok-o">[]</span> <span class="tok-n">flag</span><span class="tok-o">,</span> <span class="tok-n">String</span> <span class="tok-n">capital</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-k">new</span> <span class="tok-n">ConcreteCountry</span><span class="tok-o">(</span><span class="tok-n">name</span><span class="tok-o">,</span> <span class="tok-n">flag</span><span class="tok-o">,</span> <span class="tok-n">capital</span><span class="tok-o">);</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_abstract_factory_pattern">Abstract Factory Pattern</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_abstract_factory_pattern_properties">Abstract Factory Pattern Properties</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Type:</strong> Creational, Object<br>
<strong>Level:</strong> Component<br></p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_abstract_factory_pattern_purpose">Abstract Factory Pattern Purpose</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To provide a contract for creating families of related
 or dependent objects without having to specify
 their concrete classes.</p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_abstract_factory_canonical_diagram">Abstract Factory Canonical Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/abstract-factory-diagram.png" alt="abstract factory diagram" width="883" height="333">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_abstract_factory_ingredients">Abstract Factory Ingredients</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>AbstractFactory</strong> – An abstract class or interface that defines the create methods for abstract products.</p>
</div>
<div class="paragraph">
<p><strong>AbstractProduct</strong> – An abstract class or interface describing the general behavior of the resource that will be used by the application.</p>
</div>
<div class="paragraph">
<p><strong>ConcreteFactory</strong> – A class derived from the abstract factory . It implements create methods for one or more concrete products.</p>
</div>
<div class="paragraph">
<p><strong>ConcreteProduct</strong> – A class derived from the abstract product, providing an implementation for a specific resource or operating environment.</p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_abstract_factory_demo_diagram">Abstract Factory Demo Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/abstract_factory_uml.png" alt="abstract factory uml">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_abstract_factory_advantages">Abstract Factory Advantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Flexibility, the client is independent of how the products are created</p>
</li>
<li>
<p>Application is configured with one of multiple families of products</p>
</li>
<li>
<p>Objects need to be created as a set, in order to be compatible</p>
</li>
<li>
<p>Provide a collection of classes and you want to reveal just their contracts and their relationships, not implementation</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_abstract_factory_disadvantages">Abstract Factory Disadvantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>An ill-defined abstraction can make things difficult later</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_abstract_factory_abstractfactory">Abstract Factory: AbstractFactory</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">abstract</span> <span class="tok-kd">class</span> <span class="tok-nc">RegistrationDAO</span> <span class="tok-o">{</span>
    <span class="tok-kd">public</span> <span class="tok-kd">abstract</span> <span class="tok-kt">void</span> <span class="tok-nf">persist</span><span class="tok-o">(</span><span class="tok-n">Registration</span> <span class="tok-n">registration</span><span class="tok-o">);</span>
    <span class="tok-kd">public</span> <span class="tok-kd">abstract</span> <span class="tok-kt">void</span> <span class="tok-nf">update</span><span class="tok-o">(</span><span class="tok-n">Registration</span> <span class="tok-n">registration</span><span class="tok-o">);</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_abstract_factory_concretefactory1">Abstract Factory: ConcreteFactory1</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">OracleRegistrationDAOFactory</span> <span class="tok-kd">extends</span> <span class="tok-n">RegistrationDAOFactory</span> <span class="tok-o">{</span>
   <span class="tok-kd">public</span> <span class="tok-n">RegistrationDAO</span> <span class="tok-nf">create</span><span class="tok-o">()</span> <span class="tok-o">{</span>
      <span class="tok-k">return</span> <span class="tok-k">new</span> <span class="tok-n">OracleRegistrationDAO</span><span class="tok-o">();</span>
   <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_abstract_factory_concretefactory2">Abstract Factory: ConcreteFactory2</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">MySQLRegistrationDAOFactory</span> <span class="tok-kd">extends</span> <span class="tok-n">RegistrationDAOFactory</span> <span class="tok-o">{</span>
   <span class="tok-kd">public</span> <span class="tok-n">RegistrationDAO</span> <span class="tok-nf">create</span><span class="tok-o">()</span> <span class="tok-o">{</span>
      <span class="tok-k">return</span> <span class="tok-k">new</span> <span class="tok-n">MySQLRegistrationDAO</span><span class="tok-o">();</span>
   <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_abstract_factory_abstract_product">Abstract Factory: Abstract Product</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">abstract</span> <span class="tok-kd">class</span> <span class="tok-nc">RegistrationDAO</span> <span class="tok-o">{</span>
   <span class="tok-kd">public</span> <span class="tok-kd">abstract</span> <span class="tok-kt">void</span> <span class="tok-nf">setDataSource</span><span class="tok-o">(</span><span class="tok-n">DataSource</span> <span class="tok-n">dataSource</span><span class="tok-o">);</span>
   <span class="tok-kd">public</span> <span class="tok-kd">abstract</span> <span class="tok-kt">void</span> <span class="tok-nf">persist</span><span class="tok-o">(</span><span class="tok-n">Registration</span> <span class="tok-n">registration</span><span class="tok-o">);</span>
   <span class="tok-kd">public</span> <span class="tok-kd">abstract</span> <span class="tok-kt">void</span> <span class="tok-nf">update</span><span class="tok-o">(</span><span class="tok-n">Registration</span> <span class="tok-n">registration</span><span class="tok-o">);</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_abstract_factory_concrete_product">Abstract Factory: Concrete Product</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">MySQLRegistrationDAO</span> <span class="tok-kd">extends</span> <span class="tok-n">RegistrationDAO</span> <span class="tok-o">{</span>
   <span class="tok-kd">private</span> <span class="tok-n">DataSource</span> <span class="tok-n">dataSource</span><span class="tok-o">;</span>

   <span class="tok-kd">public</span> <span class="tok-nf">MySQLRegistrationDAO</span><span class="tok-o">()</span> <span class="tok-o">{</span> <span class="tok-o">}</span>

   <span class="tok-nd">@Override</span>
   <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">setDataSource</span><span class="tok-o">(</span><span class="tok-n">DataSource</span> <span class="tok-n">dataSource</span><span class="tok-o">)</span> <span class="tok-o">{..}</span>

   <span class="tok-nd">@Override</span>
   <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">persist</span><span class="tok-o">(</span><span class="tok-n">Registration</span> <span class="tok-n">registration</span><span class="tok-o">)</span> <span class="tok-o">{..}</span>

   <span class="tok-nd">@Override</span>
   <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">update</span><span class="tok-o">(</span><span class="tok-n">Registration</span> <span class="tok-n">registration</span><span class="tok-o">)</span> <span class="tok-o">{..}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_behavioral_patterns">Behavioral Patterns</h2>
<div class="sectionbody">
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_state_pattern">State Pattern</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_state_pattern_properties">State Pattern Properties</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Type:</strong> Behavioral<br>
<strong>Level:</strong> Object<br></p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_state_pattern_purpose">State Pattern Purpose</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Easily change an object’s behavior at runtime.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_state_pattern_canonical_diagram">State Pattern Canonical Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/state-pattern.png" alt="state pattern" width="366" height="349">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_state_pattern_ingredients">State Pattern Ingredients</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Context</strong> – Keeps a reference to the current state, and is the interface for other clients to use. It delegates all state-specific method calls to the current State object.</p>
</div>
<div class="paragraph">
<p><strong>State</strong> – Defines all the methods that depend on the state of the object.</p>
</div>
<div class="paragraph">
<p><strong>ConcreteState</strong> – Implements the State interface, and implements specific behavior for one state.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_state_pattern_advantages">State Pattern Advantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Behavior depends on its state and the state changes frequently</p>
</li>
<li>
<p>Methods have large conditional statements that depend on the state of the object</p>
</li>
<li>
<p>You need clarity on the change of state by focusing on the small segmentation</p>
</li>
<li>
<p>Transitions are explicit and known</p>
</li>
<li>
<p>States can be shared</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_state_pattern_disadvantage">State Pattern Disadvantage</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Number of classes can increase</p>
</li>
<li>
<p>Requires mutability, and therefore care in multi-threading</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_state_demo_diagram">State Demo Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/state_uml.png" alt="state uml">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_state_defining_state">State: Defining <code>State</code></h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">SwitchState</span> <span class="tok-o">{</span>
    <span class="tok-kt">void</span> <span class="tok-nf">execute</span><span class="tok-o">();</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_state_create_an_onstate_with_a_statefactory">State: Create an <code>onState</code> with a <code>StateFactory</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following is setting up an on state in a factory</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">SwitchStateFactory</span> <span class="tok-o">{</span>
    <span class="tok-kd">private</span> <span class="tok-n">SwitchStateContext</span> <span class="tok-n">switchStateContext</span><span class="tok-o">;</span>
    <span class="tok-kd">private</span> <span class="tok-n">SwitchState</span> <span class="tok-n">onState</span><span class="tok-o">;</span>

    <span class="tok-o">...</span>

    <span class="tok-kd">public</span> <span class="tok-nf">SwitchStateFactory</span><span class="tok-o">(</span><span class="tok-n">SwitchStateContext</span> <span class="tok-n">switchStateContext</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">switchStateContext</span> <span class="tok-o">=</span> <span class="tok-n">switchStateContext</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">protected</span> <span class="tok-n">SwitchState</span> <span class="tok-nf">getOnState</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">onState</span> <span class="tok-o">==</span> <span class="tok-kc">null</span><span class="tok-o">)</span> <span class="tok-o">{</span>
            <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">onState</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">SwitchState</span><span class="tok-o">()</span> <span class="tok-o">{</span>
                <span class="tok-nd">@Override</span>
                <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">execute</span><span class="tok-o">()</span> <span class="tok-o">{</span>
                    <span class="tok-n">switchStateContext</span><span class="tok-o">.</span><span class="tok-na">setState</span><span class="tok-o">(</span><span class="tok-n">getOffState</span><span class="tok-o">());</span>
                <span class="tok-o">}</span>

                <span class="tok-nd">@Override</span>
                <span class="tok-kd">public</span> <span class="tok-n">String</span> <span class="tok-nf">toString</span><span class="tok-o">()</span> <span class="tok-o">{</span>
                    <span class="tok-k">return</span> <span class="tok-s">&quot;on&quot;</span><span class="tok-o">;</span>
                <span class="tok-o">}</span>
            <span class="tok-o">};</span>
        <span class="tok-o">}</span>
        <span class="tok-k">return</span> <span class="tok-n">onState</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_state_create_an_offstate_with_a_statefactory">State: Create an <code>offState</code> with a <code>StateFactory</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following is setting up an off state in the <code>StateFactory</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">SwitchStateFactory</span> <span class="tok-o">{</span>
    <span class="tok-kd">private</span> <span class="tok-n">SwitchStateContext</span> <span class="tok-n">switchStateContext</span><span class="tok-o">;</span>
    <span class="tok-kd">private</span> <span class="tok-n">SwitchState</span> <span class="tok-n">offState</span><span class="tok-o">;</span>

    <span class="tok-o">...</span>

    <span class="tok-kd">public</span> <span class="tok-nf">SwitchStateFactory</span><span class="tok-o">(</span><span class="tok-n">SwitchStateContext</span> <span class="tok-n">switchStateContext</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">switchStateContext</span> <span class="tok-o">=</span> <span class="tok-n">switchStateContext</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">protected</span> <span class="tok-n">SwitchState</span> <span class="tok-nf">getOffState</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">offState</span> <span class="tok-o">==</span> <span class="tok-kc">null</span><span class="tok-o">)</span> <span class="tok-o">{</span>
            <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">offState</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">SwitchState</span><span class="tok-o">()</span> <span class="tok-o">{</span>
                <span class="tok-nd">@Override</span>
                <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">execute</span><span class="tok-o">()</span> <span class="tok-o">{</span>
                    <span class="tok-n">switchStateContext</span><span class="tok-o">.</span><span class="tok-na">setState</span><span class="tok-o">(</span><span class="tok-n">getOnState</span><span class="tok-o">());</span>
                <span class="tok-o">}</span>

                <span class="tok-nd">@Override</span>
                <span class="tok-kd">public</span> <span class="tok-n">String</span> <span class="tok-nf">toString</span><span class="tok-o">()</span> <span class="tok-o">{</span>
                    <span class="tok-k">return</span> <span class="tok-s">&quot;off&quot;</span><span class="tok-o">;</span>
                <span class="tok-o">}</span>
            <span class="tok-o">};</span>
        <span class="tok-o">}</span>
        <span class="tok-k">return</span> <span class="tok-n">offState</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_state_context">State: Context</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">SwitchStateContext</span> <span class="tok-o">{</span>
    <span class="tok-kd">private</span> <span class="tok-n">SwitchState</span> <span class="tok-n">switchState</span><span class="tok-o">;</span>

    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">setState</span><span class="tok-o">(</span><span class="tok-n">SwitchState</span> <span class="tok-n">switchState</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">switchState</span> <span class="tok-o">=</span> <span class="tok-n">switchState</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-n">SwitchState</span> <span class="tok-nf">getSwitchState</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-n">switchState</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">next</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-n">switchState</span><span class="tok-o">.</span><span class="tok-na">execute</span><span class="tok-o">();</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_strategy_pattern">Strategy Pattern</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_strategy_pattern_properties">Strategy Pattern Properties</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Type:</strong> Behavioral<br>
<strong>Level:</strong> Component<br></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_strategy_purpose">Strategy Purpose</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To define a group of classes that represent a set of
possible behaviors. These behaviors can then be flexibly
plugged into an application, changing the functionality on the fly.</p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_strategy_canonical_diagram">Strategy Canonical Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/strategy-pattern.png" alt="strategy pattern" width="377" height="362">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_strategy_ingredients">Strategy Ingredients</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>StrategyClient</strong> – This is the class that uses the different strategies for certain tasks. It keeps a reference to the Strategy instance that it uses and has a method to replace the current Strategy instance with another Strategy implementation.</p>
</div>
<div class="paragraph">
<p><strong>Strategy</strong> – The interface that defines all the methods available for the StrategyClient to use.</p>
</div>
<div class="paragraph">
<p><strong>ConcreteStrategy</strong> – A class that implements the Strategy interface using a specific set of rules for each of the methods in the interface.</p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_strategy_advantages">Strategy Advantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>You have a variety of ways to perform an action.</p>
</li>
<li>
<p>You might not know which approach to use until runtime.</p>
</li>
<li>
<p>You want to easily add to the possible ways to perform an action.</p>
</li>
<li>
<p>You want to keep the code maintainable as you add behaviors.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_strategy_disadvantages">Strategy Disadvantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Forethought and planning is required</p>
</li>
<li>
<p>Identifying a strategy that is generic enough for this pattern</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_strategy_demo_diagram">Strategy Demo Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/strategy_uml.png" alt="strategy uml">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_strategy_strategy_interface">Strategy: Strategy Interface</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">AccumulatorStrategy</span> <span class="tok-o">{</span>
    <span class="tok-kd">public</span> <span class="tok-n">Integer</span> <span class="tok-nf">process</span><span class="tok-o">(</span><span class="tok-n">Integer</span> <span class="tok-n">a</span><span class="tok-o">,</span> <span class="tok-n">Integer</span> <span class="tok-n">b</span><span class="tok-o">);</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_strategy_one_concrete_strategy">Strategy: One Concrete Strategy</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">NumberAccumulator</span> <span class="tok-o">{</span>
    <span class="tok-kd">private</span> <span class="tok-n">AccumulatorStrategy</span> <span class="tok-n">strategy</span><span class="tok-o">;</span>

    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">setAccumulatorStrategy</span><span class="tok-o">(</span><span class="tok-n">AccumulatorStrategy</span> <span class="tok-n">strategy</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">strategy</span> <span class="tok-o">=</span> <span class="tok-n">strategy</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-n">Integer</span> <span class="tok-nf">accumulate</span><span class="tok-o">(</span><span class="tok-n">List</span><span class="tok-o">&lt;</span><span class="tok-n">Integer</span><span class="tok-o">&gt;</span> <span class="tok-n">integers</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">integers</span><span class="tok-o">.</span><span class="tok-na">size</span><span class="tok-o">()</span> <span class="tok-o">==</span> <span class="tok-mi">1</span><span class="tok-o">)</span> <span class="tok-k">return</span> <span class="tok-n">integers</span><span class="tok-o">.</span><span class="tok-na">get</span><span class="tok-o">(</span><span class="tok-mi">0</span><span class="tok-o">);</span>
        <span class="tok-k">return</span> <span class="tok-n">strategy</span><span class="tok-o">.</span><span class="tok-na">process</span><span class="tok-o">(</span><span class="tok-n">integers</span><span class="tok-o">.</span><span class="tok-na">get</span><span class="tok-o">(</span><span class="tok-mi">0</span><span class="tok-o">),</span>
            <span class="tok-n">accumulate</span><span class="tok-o">(</span><span class="tok-n">integers</span><span class="tok-o">.</span><span class="tok-na">subList</span><span class="tok-o">(</span><span class="tok-mi">1</span><span class="tok-o">,</span> <span class="tok-n">integers</span><span class="tok-o">.</span><span class="tok-na">size</span><span class="tok-o">())));</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_strategy_another_concrete_strategy">Strategy: Another Concrete Strategy</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">ProductAccumulator</span> <span class="tok-kd">implements</span> <span class="tok-n">AccumulatorStrategy</span> <span class="tok-o">{</span>
    <span class="tok-kd">public</span> <span class="tok-n">Integer</span> <span class="tok-nf">process</span><span class="tok-o">(</span><span class="tok-n">Integer</span> <span class="tok-n">a</span><span class="tok-o">,</span> <span class="tok-n">Integer</span> <span class="tok-n">b</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-n">a</span> <span class="tok-o">*</span> <span class="tok-n">b</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_strategy_yet_another_concrete_strategy">Strategy: Yet Another Concrete Strategy</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">SumAccumulator</span> <span class="tok-kd">implements</span> <span class="tok-n">AccumulatorStrategy</span> <span class="tok-o">{</span>
    <span class="tok-kd">public</span> <span class="tok-n">Integer</span> <span class="tok-nf">process</span><span class="tok-o">(</span><span class="tok-n">Integer</span> <span class="tok-n">a</span><span class="tok-o">,</span> <span class="tok-n">Integer</span> <span class="tok-n">b</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-n">a</span> <span class="tok-o">+</span> <span class="tok-n">b</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_strategy_use_of_the_strategy_pattern">Strategy: Use of the Strategy Pattern</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">NumberAccumulator</span> <span class="tok-n">numberAccumulator</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">NumberAccumulator</span><span class="tok-o">();</span>
<span class="tok-n">numberAccumulator</span><span class="tok-o">.</span><span class="tok-na">setAccumulatorStrategy</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">ProductAccumulator</span><span class="tok-o">());</span>

<span class="tok-n">List</span><span class="tok-o">&lt;</span><span class="tok-n">Integer</span><span class="tok-o">&gt;</span> <span class="tok-n">integers</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">ArrayList</span><span class="tok-o">&lt;</span><span class="tok-n">Integer</span><span class="tok-o">&gt;();</span>
<span class="tok-n">integers</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-mi">1</span><span class="tok-o">);</span>
<span class="tok-n">integers</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-mi">2</span><span class="tok-o">);</span>
<span class="tok-n">integers</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-mi">3</span><span class="tok-o">);</span>
<span class="tok-n">integers</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-mi">4</span><span class="tok-o">);</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_strategy_use_of_the_strategy_pattern_using_lambdas_java_8">Strategy: Use of the Strategy Pattern using Lambdas (Java 8+)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following is the same as the above, but using
lambdas and functional programming, much of the boilerplate
is evaporated away</p>
</div>
<div class="listingblock">
<div class="title">Using lambdas as a Strategy Pattern</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">List</span><span class="tok-o">.</span><span class="tok-na">of</span><span class="tok-o">(</span><span class="tok-mi">1</span><span class="tok-o">,</span><span class="tok-mi">2</span><span class="tok-o">,</span><span class="tok-mi">3</span><span class="tok-o">,</span><span class="tok-mi">4</span><span class="tok-o">).</span><span class="tok-na">stream</span><span class="tok-o">().</span><span class="tok-na">reduce</span><span class="tok-o">((</span><span class="tok-n">total</span><span class="tok-o">,</span> <span class="tok-n">next</span><span class="tok-o">)</span> <span class="tok-o">-&gt;</span> <span class="tok-n">total</span> <span class="tok-o">+</span> <span class="tok-n">next</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Renders:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">Optional</span><span class="tok-o">[</span><span class="tok-mi">10</span><span class="tok-o">]</span></code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_lab_using_the_collections_sort">Lab: Using the <code>Collections.sort</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Step 1:</strong> In design_patterns_training, go to the <em>src/test/java</em> folder and
a package called <code>com.xyzcorp.strategy</code>, if they don&#8217;t exist, create it.</p>
</div>
<div class="paragraph">
<p><strong>Step 2:</strong> In the <code>com.xyzcorp.strategy</code> package, create a test class called <code>StrategyTest</code></p>
</div>
<div class="paragraph">
<p><strong>Step 3:</strong> In <code>StrategyTest</code>, create a class called <code>MusicArtist</code> that is plain old
java object, <code>MusicArtist</code> should have a <code>firstName</code> of type <code>String</code>, a
<code>lastName</code> of type <code>String</code>, an <code>alias</code> of type <code>String</code>. Be sure to include an
<code>equals</code>, <code>toString</code>, <code>hashCode</code></p>
</div>
<div class="paragraph">
<p><strong>Step 4:</strong> In <code>StrategyTest</code>, create a test method called <code>testSortLastNameStrategy</code>. In the test,
create a <code>List&lt;Artist&gt;</code> of the following artists (add your own favorites):</p>
</div>
<div class="paragraph">
<p>Billy Idol<br>
Louis Armstrong<br>
Beyoncé Knowles (alias: Beyoncé)<br>
Paul Hewson (alias: Bono)<br>
Prince Nelson (alias: Prince)<br>
Muddy Waters<br>
George Harrison<br>
Lata Mangeshkar<br>
Zhang Liangying<br></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_lab_using_the_collections_sort_2">Lab: Using the <code>Collections.sort</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Step 5:</strong> In <code>testSortLastNameStrategy</code>, use <code>Collections.sort(list, comparator)</code> to
sort the list you created and provide a <code>Comparator&lt;Artist&gt;</code> that would sort the list
by <code>lastName</code></p>
</div>
<div class="paragraph">
<p><strong>Step 6:</strong> If time is available, create another test called <code>testSortFirstNameStrategy</code> that will sort
the <code>List&lt;Artist&gt;</code> by <code>firstName</code>. You will have to extract the list of artists as a property of
the <code>StrategyTest</code> class or make a copy from <code>testSortLastNameStrategy</code> to <code>testSortFirstNameStrategy</code>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_chain_of_responsibility_pattern">Chain of Responsibility Pattern</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_chain_of_responsibility_properties">Chain of Responsibility Properties</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Type:</strong> Behavioral<br>
<strong>Level:</strong> Component<br></p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_chain_of_responsibility_purpose">Chain of Responsibility Purpose</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To establish a chain within a system, so that a message can
either be handled at the level where it is first received,
or be directed to an object that can handle it.</p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_chain_of_responsibility_canonical_diagram">Chain of Responsibility Canonical Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/chain-of-responsibility-pattern.png" alt="chain of responsibility pattern" width="530" height="241">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_chain_of_responsibility_ingredients">Chain of Responsibility Ingredients</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Handler</strong> – The interface that defines the method used to pass a message to the next handler. That message is normally just the method call, but if more data needs to be encapsulated, an object can be passed as well.</p>
</div>
<div class="paragraph">
<p><strong>ConcreteHandler</strong> – A class that implements the Handler interface. It keeps a reference to the next Handler instance inline. This reference is either set in the constructor of the class or through a setter method. The implementation of the handleMessage method can determine how to handle the method and call a handleMethod, forward the message to the next Handler or a combination of both.</p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_chain_of_responsibility_advantages">Chain of Responsibility Advantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>There is a group of objects in a system that can all
potentially respond to the same kind of message</p>
</li>
<li>
<p>Offers complex message handling</p>
</li>
<li>
<p>Messages must be handled by one of several objects
within the system.</p>
</li>
<li>
<p>Messages follow the “handle or forward” model—that is,
some events can be handled at the level where they are
received or produced, while others must be forwarded to some other object.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_chain_of_responsibility_disadvantages">Chain of Responsibility Disadvantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Difficult to test and debug</p>
</li>
<li>
<p>Possible dropped message if not handled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_chain_of_responsibility_demo_diagram">Chain of Responsibility Demo Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/chain_of_responsibility_uml.png" alt="chain of responsibility uml">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_chain_of_responsibility_interface_of_a_model">Chain of Responsibility: Interface of a Model</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kn">import</span> <span class="tok-nn">java.util.List</span><span class="tok-o">;</span>

<span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">Car</span> <span class="tok-o">{</span>
    <span class="tok-n">String</span> <span class="tok-nf">getMake</span><span class="tok-o">();</span>
    <span class="tok-n">String</span> <span class="tok-nf">getModel</span><span class="tok-o">();</span>
    <span class="tok-kt">int</span> <span class="tok-nf">getYear</span><span class="tok-o">();</span>

    <span class="tok-kt">boolean</span> <span class="tok-nf">powerSteering</span><span class="tok-o">();</span>
    <span class="tok-kt">boolean</span> <span class="tok-nf">driverAirBags</span><span class="tok-o">();</span>
    <span class="tok-kt">boolean</span> <span class="tok-nf">passengerAirBags</span><span class="tok-o">();</span>
    <span class="tok-kt">boolean</span> <span class="tok-nf">seatHeaters</span><span class="tok-o">();</span>
    <span class="tok-kt">boolean</span> <span class="tok-nf">seatCoolers</span><span class="tok-o">();</span>
    <span class="tok-kt">boolean</span> <span class="tok-nf">driveLaneAssist</span><span class="tok-o">();</span>
    <span class="tok-kt">boolean</span> <span class="tok-nf">rearCamera</span><span class="tok-o">();</span>
    <span class="tok-kt">void</span> <span class="tok-nf">addRecommendation</span><span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">name</span><span class="tok-o">);</span>
    <span class="tok-n">List</span><span class="tok-o">&lt;</span><span class="tok-n">String</span><span class="tok-o">&gt;</span> <span class="tok-nf">getRecommendations</span><span class="tok-o">();</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_chain_of_responsibility_handler">Chain of Responsibility: Handler</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">Reviewer</span> <span class="tok-o">{</span>
    <span class="tok-kt">void</span> <span class="tok-nf">recommend</span><span class="tok-o">(</span><span class="tok-n">Car</span> <span class="tok-n">car</span><span class="tok-o">);</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_chain_of_responsibility_concrete_handler">Chain of Responsibility: Concrete Handler</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">CarAndBuyerReviewer</span> <span class="tok-kd">implements</span> <span class="tok-n">Reviewer</span> <span class="tok-o">{</span>

    <span class="tok-kd">private</span> <span class="tok-n">Reviewer</span> <span class="tok-n">nextReviewer</span><span class="tok-o">;</span>

    <span class="tok-kd">public</span> <span class="tok-nf">CarAndBuyerReviewer</span><span class="tok-o">(</span><span class="tok-n">Reviewer</span> <span class="tok-n">nextReviewer</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">nextReviewer</span> <span class="tok-o">=</span> <span class="tok-n">nextReviewer</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-nf">CarAndBuyerReviewer</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">nextReviewer</span> <span class="tok-o">=</span> <span class="tok-kc">null</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">recommend</span><span class="tok-o">(</span><span class="tok-n">Car</span> <span class="tok-n">car</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">car</span><span class="tok-o">.</span><span class="tok-na">passengerAirBags</span><span class="tok-o">()</span> <span class="tok-o">&amp;&amp;</span> <span class="tok-n">car</span><span class="tok-o">.</span><span class="tok-na">driverAirBags</span><span class="tok-o">())</span>
           <span class="tok-n">car</span><span class="tok-o">.</span><span class="tok-na">addRecommendation</span><span class="tok-o">(</span><span class="tok-s">&quot;Car and Buyer&quot;</span><span class="tok-o">);</span>
        <span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">nextReviewer</span> <span class="tok-o">!=</span> <span class="tok-kc">null</span><span class="tok-o">)</span>
           <span class="tok-n">nextReviewer</span><span class="tok-o">.</span><span class="tok-na">recommend</span><span class="tok-o">(</span><span class="tok-n">car</span><span class="tok-o">);</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_chain_of_responsibility_another_concrete_handler">Chain of Responsibility: Another Concrete Handler</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">CarFaxReviewer</span> <span class="tok-kd">implements</span> <span class="tok-n">Reviewer</span> <span class="tok-o">{</span>

    <span class="tok-kd">private</span> <span class="tok-kd">final</span> <span class="tok-n">Reviewer</span> <span class="tok-n">nextReviewer</span><span class="tok-o">;</span>

    <span class="tok-kd">public</span> <span class="tok-nf">CarFaxReviewer</span><span class="tok-o">(</span><span class="tok-n">Reviewer</span> <span class="tok-n">nextReviewer</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">nextReviewer</span> <span class="tok-o">=</span> <span class="tok-n">nextReviewer</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-nf">CarFaxReviewer</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">nextReviewer</span> <span class="tok-o">=</span> <span class="tok-kc">null</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">recommend</span><span class="tok-o">(</span><span class="tok-n">Car</span> <span class="tok-n">car</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">car</span><span class="tok-o">.</span><span class="tok-na">driverAirBags</span><span class="tok-o">())</span>
           <span class="tok-n">car</span><span class="tok-o">.</span><span class="tok-na">addRecommendation</span><span class="tok-o">(</span><span class="tok-s">&quot;CarFax&quot;</span><span class="tok-o">);</span>
        <span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">nextReviewer</span> <span class="tok-o">!=</span> <span class="tok-kc">null</span><span class="tok-o">)</span>
           <span class="tok-n">nextReviewer</span><span class="tok-o">.</span><span class="tok-na">recommend</span><span class="tok-o">(</span><span class="tok-n">car</span><span class="tok-o">);</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_chain_of_responsibility_yet_another_concrete_handler">Chain of Responsibility: Yet Another Concrete Handler</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">JDPowerReviewer</span> <span class="tok-kd">implements</span> <span class="tok-n">Reviewer</span> <span class="tok-o">{</span>

    <span class="tok-kd">private</span> <span class="tok-n">Reviewer</span> <span class="tok-n">nextReviewer</span><span class="tok-o">;</span>

    <span class="tok-kd">public</span> <span class="tok-nf">JDPowerReviewer</span><span class="tok-o">(</span><span class="tok-n">Reviewer</span> <span class="tok-n">reviewer</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">nextReviewer</span> <span class="tok-o">=</span> <span class="tok-n">reviewer</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-nf">JDPowerReviewer</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">nextReviewer</span> <span class="tok-o">=</span> <span class="tok-kc">null</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">recommend</span><span class="tok-o">(</span><span class="tok-n">Car</span> <span class="tok-n">car</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">car</span><span class="tok-o">.</span><span class="tok-na">rearCamera</span><span class="tok-o">()</span> <span class="tok-o">&amp;&amp;</span> <span class="tok-n">car</span><span class="tok-o">.</span><span class="tok-na">driveLaneAssist</span><span class="tok-o">()</span> <span class="tok-o">&amp;&amp;</span>
            <span class="tok-n">car</span><span class="tok-o">.</span><span class="tok-na">powerSteering</span><span class="tok-o">())</span>
            <span class="tok-n">car</span><span class="tok-o">.</span><span class="tok-na">addRecommendation</span><span class="tok-o">(</span><span class="tok-s">&quot;JD Power&quot;</span><span class="tok-o">);</span>
        <span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">nextReviewer</span> <span class="tok-o">!=</span> <span class="tok-kc">null</span><span class="tok-o">)</span> <span class="tok-n">nextReviewer</span><span class="tok-o">.</span><span class="tok-na">recommend</span><span class="tok-o">(</span><span class="tok-n">car</span><span class="tok-o">);</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_chain_of_responsibility_running">Chain of Responsibility: Running</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">CarFaxReviewer</span> <span class="tok-n">carFaxReviewer</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">CarFaxReviewer</span><span class="tok-o">();</span>
<span class="tok-n">JDPowerReviewer</span> <span class="tok-n">jdPowerReviewer</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JDPowerReviewer</span><span class="tok-o">(</span><span class="tok-n">carFaxReviewer</span><span class="tok-o">);</span>
<span class="tok-n">CarAndBuyerReviewer</span> <span class="tok-n">carAndBuyerReviewer</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">CarAndBuyerReviewer</span><span class="tok-o">(</span><span class="tok-n">jdPowerReviewer</span><span class="tok-o">);</span>

<span class="tok-n">carAndBuyerReviewer</span><span class="tok-o">.</span><span class="tok-na">recommend</span><span class="tok-o">(</span><span class="tok-n">car</span><span class="tok-o">);</span>

<span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-n">car</span><span class="tok-o">.</span><span class="tok-na">getRecommendations</span><span class="tok-o">());</span></code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_command_pattern">Command Pattern</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_command_pattern_properties">Command Pattern Properties</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Type:</strong> Behavioral<br>
<strong>Level:</strong> Object<br></p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_command_pattern_purpose">Command Pattern Purpose</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>To wrap a command in an object so that it can be stored, passed into methods, and returned like any other object.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_command_pattern_canonical_diagram">Command Pattern Canonical Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/command-pattern.png" alt="command pattern" width="384" height="228">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_command_pattern_advantages">Command Pattern Advantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Decoupling the source or trigger of the event from the object that has the knowledge to perform the task.</p>
</li>
<li>
<p>Sharing Command instances between several objects.</p>
</li>
<li>
<p>Allowing the replacement of Commands and/or Receivers at runtime.</p>
</li>
<li>
<p>Making Commands regular objects, thus allowing for all the normal properties.</p>
</li>
<li>
<p>Easy addition of new Commands; just write another implementation of the interface and add it to the application.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_command_pattern_disadvantages">Command Pattern Disadvantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Not beneficial with too few commands</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_command_demo_diagram">Command Demo Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/command_uml.png" alt="command uml">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_command_the_command_interface">Command: The command interface</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">Action</span> <span class="tok-o">{</span>
    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">execute</span><span class="tok-o">();</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_command_the_command_target">Command: The command target</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span>
<span class="tok-kn">import</span> <span class="tok-nn">javax.swing.</span><span class="tok-o">&lt;</span><span class="tok-n">strong</span><span class="tok-o">&gt;;</span>
<span class="tok-kn">import</span> <span class="tok-nn">java.awt.</span><span class="tok-o">&lt;/</span><span class="tok-n">strong</span><span class="tok-o">&gt;;</span>
<span class="tok-kn">import</span> <span class="tok-nn">java.time.LocalDateTime</span><span class="tok-o">;</span>

<span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">Target</span> <span class="tok-o">{</span>
    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">displayTime</span><span class="tok-o">(</span><span class="tok-n">LocalDateTime</span> <span class="tok-n">localDateTime</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-n">JFrame</span> <span class="tok-n">jFrame</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JFrame</span><span class="tok-o">(</span><span class="tok-s">&quot;Title&quot;</span><span class="tok-o">);</span>
        <span class="tok-n">JPanel</span> <span class="tok-n">contentPane</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JPanel</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">FlowLayout</span><span class="tok-o">());</span>
        <span class="tok-n">JLabel</span> <span class="tok-n">jLabel</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JLabel</span><span class="tok-o">(</span><span class="tok-s">&quot;The time is: &quot;</span> <span class="tok-o">+</span>
           <span class="tok-n">localDateTime</span><span class="tok-o">.</span><span class="tok-na">toString</span><span class="tok-o">());</span>
        <span class="tok-n">contentPane</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">jLabel</span><span class="tok-o">);</span>
        <span class="tok-n">jFrame</span><span class="tok-o">.</span><span class="tok-na">setContentPane</span><span class="tok-o">(</span><span class="tok-n">contentPane</span><span class="tok-o">);</span>
        <span class="tok-n">jFrame</span><span class="tok-o">.</span><span class="tok-na">pack</span><span class="tok-o">();</span>
        <span class="tok-n">jFrame</span><span class="tok-o">.</span><span class="tok-na">setVisible</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>
        <span class="tok-n">jFrame</span><span class="tok-o">.</span><span class="tok-na">setDefaultCloseOperation</span><span class="tok-o">(</span>
           <span class="tok-n">WindowConstants</span><span class="tok-o">.</span><span class="tok-na">DISPOSE_ON_CLOSE</span><span class="tok-o">);</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_command_a_command_action">Command: A command action</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The nice thing about the command pattern is that it is easy to add runtime actions!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kn">import</span> <span class="tok-nn">java.time.LocalDateTime</span><span class="tok-o">;</span>

<span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">QueryTimeAction</span> <span class="tok-kd">implements</span> <span class="tok-n">Action</span><span class="tok-o">{</span>

    <span class="tok-kd">private</span> <span class="tok-kd">final</span> <span class="tok-n">Target</span> <span class="tok-n">target</span><span class="tok-o">;</span>

    <span class="tok-kd">public</span> <span class="tok-nf">QueryTimeAction</span><span class="tok-o">(</span><span class="tok-n">Target</span> <span class="tok-n">target</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">target</span> <span class="tok-o">=</span> <span class="tok-n">target</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">execute</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-n">target</span><span class="tok-o">.</span><span class="tok-na">displayTime</span><span class="tok-o">(</span><span class="tok-n">LocalDateTime</span><span class="tok-o">.</span><span class="tok-na">now</span><span class="tok-o">());</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_command_bringing_it_together">Command: Bringing it together</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Using a <code>main</code> method or a dependency injection container:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">Map</span><span class="tok-o">&lt;</span><span class="tok-n">String</span><span class="tok-o">,</span> <span class="tok-n">Action</span><span class="tok-o">&gt;</span> <span class="tok-n">commandMap</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">HashMap</span><span class="tok-o">&lt;&gt;();</span>
<span class="tok-n">Target</span> <span class="tok-n">target</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Target</span><span class="tok-o">();</span>
<span class="tok-n">Action</span> <span class="tok-n">action</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">QueryTimeAction</span><span class="tok-o">(</span><span class="tok-n">target</span><span class="tok-o">);</span>
<span class="tok-n">commandMap</span><span class="tok-o">.</span><span class="tok-na">put</span><span class="tok-o">(</span><span class="tok-s">&quot;showTime&quot;</span><span class="tok-o">,</span> <span class="tok-n">action</span><span class="tok-o">);</span>
<span class="tok-n">commandMap</span><span class="tok-o">.</span><span class="tok-na">get</span><span class="tok-o">(</span><span class="tok-s">&quot;showTime&quot;</span><span class="tok-o">).</span><span class="tok-na">execute</span><span class="tok-o">();</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_command_bringing_it_together_with_java_8_lambdas">Command: Bringing it together with Java 8 lambdas</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Using a <code>main</code> method or a dependency injection container:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">Map</span><span class="tok-o">&lt;</span><span class="tok-n">String</span><span class="tok-o">,</span> <span class="tok-n">Action</span><span class="tok-o">&gt;</span> <span class="tok-n">commandMap</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">HashMap</span><span class="tok-o">&lt;&gt;();</span>
<span class="tok-n">Target</span> <span class="tok-n">target</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Target</span><span class="tok-o">();</span>
<span class="tok-n">Action</span> <span class="tok-n">action</span> <span class="tok-o">=</span> <span class="tok-o">()</span> <span class="tok-o">-&gt;</span> <span class="tok-o">{</span>
   <span class="tok-n">target</span><span class="tok-o">.</span><span class="tok-na">displayTime</span><span class="tok-o">(</span><span class="tok-n">LocalDateTime</span><span class="tok-o">.</span><span class="tok-na">now</span><span class="tok-o">());</span>
<span class="tok-o">};</span>
<span class="tok-n">commandMap</span><span class="tok-o">.</span><span class="tok-na">put</span><span class="tok-o">(</span><span class="tok-s">&quot;showTime&quot;</span><span class="tok-o">,</span> <span class="tok-n">action</span><span class="tok-o">);</span>
<span class="tok-n">commandMap</span><span class="tok-o">.</span><span class="tok-na">get</span><span class="tok-o">(</span><span class="tok-s">&quot;showTime&quot;</span><span class="tok-o">).</span><span class="tok-na">execute</span><span class="tok-o">();</span></code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_iterator_pattern">Iterator Pattern</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_iterator_pattern_properties">Iterator Pattern Properties</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Type:</strong> Behavioral, Object<br>
<strong>Level:</strong> Component<br></p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_iterator_purpose">Iterator Purpose</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To provide a consistent way to sequentially access items in a collection that is independent of and separate from the underlying collection.</p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_iterator_canonical_diagram">Iterator Canonical Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/iterator-pattern.png" alt="iterator pattern" width="621" height="293">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_iterator_ingredients">Iterator Ingredients</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Iterator</strong> – This interface defines the standard iteration methods. At a minimum, the interface defines methods for navigation, retrieval and validation (<code>first</code>, <code>next</code>, <code>hasMoreElements</code> and <code>getCurrentItem</code>)</p>
</div>
<div class="paragraph">
<p><strong>ConcreteIterator</strong> – Classes that implement the <code>Iterator</code>. These classes reference the underlying collection. Normally, instances are created by the <code>ConcreteAggregate</code>. Because of the tight coupling with the <code>ConcreteAggregate</code>, the <code>ConcreteIterator</code> often is an inner class of the <code>ConcreteAggregate</code>.</p>
</div>
<div class="paragraph">
<p><strong>Aggregate</strong> – This interface defines a factory method to produce the <code>Iterator</code>.</p>
</div>
<div class="paragraph">
<p><strong>ConcreteAggregate</strong> – This class implements the Aggregate, building a <code>ConcreteIterator</code> on demand. The <code>ConcreteAggregate</code> performs this task in addition to its fundamental responsibility of representing a collection of objects in a system. <code>ConcreteAggregate</code> creates the <code>ConcreteIterator</code> instance.</p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_iterator_advantages">Iterator Advantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>A uniform interface for traversing a collection</p>
</li>
<li>
<p>Not to tied to the implementation of the collection</p>
</li>
<li>
<p>Enabling several clients to simultaneously navigate within the same underlying collection.</p>
</li>
<li>
<p>You can think of an Iterator as a cursor or pointer into the collection</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_iterator_disadvantages">Iterator Disadvantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>They give the illusion of order to unordered structures</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_iterator_demo_diagram">Iterator Demo Diagram</h2>
<div class="sectionbody">
<div class="paragraph">
<p>JDK 8+ UML Diagram</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/iterator_uml.png" alt="iterator uml">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_iterator_javas_implementation_java_8">Iterator: Java&#8217;s implementation (Java 8+)</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">Iterator</span><span class="tok-o">&lt;</span><span class="tok-n">E</span><span class="tok-o">&gt;</span> <span class="tok-o">{</span>
    <span class="tok-kt">boolean</span> <span class="tok-nf">hasNext</span><span class="tok-o">();</span>

    <span class="tok-n">E</span> <span class="tok-nf">next</span><span class="tok-o">();</span>

    <span class="tok-k">default</span> <span class="tok-kt">void</span> <span class="tok-nf">remove</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">throw</span> <span class="tok-k">new</span> <span class="tok-n">UnsupportedOperationException</span><span class="tok-o">(</span><span class="tok-s">&quot;remove&quot;</span><span class="tok-o">);</span>
    <span class="tok-o">}</span>

    <span class="tok-k">default</span> <span class="tok-kt">void</span> <span class="tok-nf">forEachRemaining</span><span class="tok-o">(</span><span class="tok-n">Consumer</span><span class="tok-o">&lt;?</span> <span class="tok-kd">super</span> <span class="tok-n">E</span><span class="tok-o">&gt;</span> <span class="tok-n">action</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-n">Objects</span><span class="tok-o">.</span><span class="tok-na">requireNonNull</span><span class="tok-o">(</span><span class="tok-n">action</span><span class="tok-o">);</span>
        <span class="tok-k">while</span> <span class="tok-o">(</span><span class="tok-n">hasNext</span><span class="tok-o">())</span>
            <span class="tok-n">action</span><span class="tok-o">.</span><span class="tok-na">accept</span><span class="tok-o">(</span><span class="tok-n">next</span><span class="tok-o">());</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The above is the Java 8+ signature
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_use_of_javas_iterator">Use of Java&#8217;s Iterator</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">var</span> <span class="tok-n">stringList</span> <span class="tok-o">=</span> <span class="tok-n">List</span><span class="tok-o">.</span><span class="tok-na">of</span><span class="tok-o">(</span><span class="tok-s">&quot;Foo&quot;</span><span class="tok-o">,</span> <span class="tok-s">&quot;Bar&quot;</span><span class="tok-o">,</span> <span class="tok-s">&quot;Baz&quot;</span><span class="tok-o">,</span> <span class="tok-s">&quot;Qux&quot;</span><span class="tok-o">,</span> <span class="tok-s">&quot;Quux&quot;</span><span class="tok-o">);</span>
<span class="tok-n">Iterator</span><span class="tok-o">&lt;</span><span class="tok-n">String</span><span class="tok-o">&gt;</span> <span class="tok-n">iterator</span> <span class="tok-o">=</span> <span class="tok-n">stringList</span><span class="tok-o">.</span><span class="tok-na">iterator</span><span class="tok-o">();</span>

<span class="tok-n">String</span> <span class="tok-n">value1</span> <span class="tok-o">=</span> <span class="tok-n">iterator</span><span class="tok-o">.</span><span class="tok-na">next</span><span class="tok-o">();</span>
<span class="tok-n">String</span> <span class="tok-n">value2</span> <span class="tok-o">=</span> <span class="tok-n">iterator</span><span class="tok-o">.</span><span class="tok-na">next</span><span class="tok-o">();</span>

<span class="tok-n">assertEquals</span><span class="tok-o">(</span><span class="tok-n">value1</span><span class="tok-o">,</span> <span class="tok-s">&quot;Foo&quot;</span><span class="tok-o">);</span> <span class="tok-c1">//true</span>
<span class="tok-n">assertEquals</span><span class="tok-o">(</span><span class="tok-n">value2</span><span class="tok-o">,</span> <span class="tok-s">&quot;Bar&quot;</span><span class="tok-o">);</span> <span class="tok-c1">//true</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_java_iterator_trick_question">Java Iterator Trick Question</h2>
<div class="sectionbody">
<div class="paragraph">
<p>What is <code>value1</code> and <code>value2</code>?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">var</span> <span class="tok-n">stringList</span> <span class="tok-o">=</span> <span class="tok-n">List</span><span class="tok-o">.</span><span class="tok-na">of</span><span class="tok-o">(</span><span class="tok-s">&quot;Foo&quot;</span><span class="tok-o">,</span> <span class="tok-s">&quot;Bar&quot;</span><span class="tok-o">,</span> <span class="tok-s">&quot;Baz&quot;</span><span class="tok-o">,</span> <span class="tok-s">&quot;Qux&quot;</span><span class="tok-o">,</span> <span class="tok-s">&quot;Quux&quot;</span><span class="tok-o">);</span>
<span class="tok-n">String</span> <span class="tok-n">value1</span> <span class="tok-o">=</span> <span class="tok-n">stringList</span><span class="tok-o">.</span><span class="tok-na">iterator</span><span class="tok-o">().</span><span class="tok-na">next</span><span class="tok-o">();</span>
<span class="tok-n">String</span> <span class="tok-n">value2</span> <span class="tok-o">=</span> <span class="tok-n">stringList</span><span class="tok-o">.</span><span class="tok-na">iterator</span><span class="tok-o">().</span><span class="tok-na">next</span><span class="tok-o">();</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_java_iterator_with_while">Using Java Iterator with <code>while</code></h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">var</span> <span class="tok-n">iterator</span> <span class="tok-o">=</span> <span class="tok-n">List</span><span class="tok-o">.</span><span class="tok-na">of</span><span class="tok-o">(</span><span class="tok-s">&quot;Foo&quot;</span><span class="tok-o">,</span> <span class="tok-s">&quot;Bar&quot;</span><span class="tok-o">,</span> <span class="tok-s">&quot;Baz&quot;</span><span class="tok-o">,</span> <span class="tok-s">&quot;Qux&quot;</span><span class="tok-o">,</span> <span class="tok-s">&quot;Quux&quot;</span><span class="tok-o">).</span><span class="tok-na">iterator</span><span class="tok-o">();</span>
<span class="tok-n">var</span> <span class="tok-n">result</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">ArrayList</span><span class="tok-o">&lt;</span><span class="tok-n">String</span><span class="tok-o">&gt;();</span>
<span class="tok-k">while</span><span class="tok-o">(</span><span class="tok-n">iterator</span><span class="tok-o">.</span><span class="tok-na">hasNext</span><span class="tok-o">())</span> <span class="tok-o">{</span>
    <span class="tok-n">result</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">iterator</span><span class="tok-o">.</span><span class="tok-na">next</span><span class="tok-o">());</span>
<span class="tok-o">}</span>
<span class="tok-n">assertEquals</span><span class="tok-o">(</span><span class="tok-s">&quot;[Foo, Bar, Baz, Qux, Quux]&quot;</span><span class="tok-o">,</span><span class="tok-n">result</span><span class="tok-o">.</span><span class="tok-na">toString</span><span class="tok-o">());</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_java_iterator_with_java_5_for_loop">Using Java Iterator with Java 5 for loop</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If a collection extends from <code>Iterable</code> it can be placed in a loop</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">var</span> <span class="tok-n">list</span> <span class="tok-o">=</span> <span class="tok-n">List</span><span class="tok-o">.</span><span class="tok-na">of</span><span class="tok-o">(</span><span class="tok-s">&quot;Foo&quot;</span><span class="tok-o">,</span> <span class="tok-s">&quot;Bar&quot;</span><span class="tok-o">,</span> <span class="tok-s">&quot;Baz&quot;</span><span class="tok-o">,</span> <span class="tok-s">&quot;Qux&quot;</span><span class="tok-o">,</span> <span class="tok-s">&quot;Quux&quot;</span><span class="tok-o">);</span>
<span class="tok-n">var</span> <span class="tok-n">result</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">ArrayList</span><span class="tok-o">&lt;</span><span class="tok-n">String</span><span class="tok-o">&gt;();</span>
<span class="tok-k">for</span> <span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">s</span> <span class="tok-o">:</span> <span class="tok-n">list</span><span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-n">result</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">s</span><span class="tok-o">);</span>
<span class="tok-o">}</span>
<span class="tok-n">assertEquals</span><span class="tok-o">(</span><span class="tok-s">&quot;[Foo, Bar, Baz, Qux, Quux]&quot;</span><span class="tok-o">,</span><span class="tok-n">result</span><span class="tok-o">.</span><span class="tok-na">toString</span><span class="tok-o">());</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_javas_listiterator">Using Java&#8217;s <code>ListIterator</code></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>An iterator for lists that traverses the list in either direction</p>
</li>
<li>
<p>Modify the list during iteration</p>
</li>
<li>
<p>Obtain the iterator&#8217;s current position in the list</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">var</span> <span class="tok-n">list</span> <span class="tok-o">=</span> <span class="tok-n">List</span><span class="tok-o">.</span><span class="tok-na">of</span><span class="tok-o">(</span><span class="tok-s">&quot;Foo&quot;</span><span class="tok-o">,</span> <span class="tok-s">&quot;Bar&quot;</span><span class="tok-o">,</span> <span class="tok-s">&quot;Baz&quot;</span><span class="tok-o">,</span> <span class="tok-s">&quot;Qux&quot;</span><span class="tok-o">,</span> <span class="tok-s">&quot;Quux&quot;</span><span class="tok-o">);</span>
<span class="tok-n">var</span> <span class="tok-n">listIterator</span> <span class="tok-o">=</span> <span class="tok-n">list</span><span class="tok-o">.</span><span class="tok-na">listIterator</span><span class="tok-o">();</span>
<span class="tok-n">listIterator</span><span class="tok-o">.</span><span class="tok-na">next</span><span class="tok-o">();</span>
<span class="tok-n">listIterator</span><span class="tok-o">.</span><span class="tok-na">next</span><span class="tok-o">();</span>
<span class="tok-n">listIterator</span><span class="tok-o">.</span><span class="tok-na">next</span><span class="tok-o">();</span>
<span class="tok-n">listIterator</span><span class="tok-o">.</span><span class="tok-na">previous</span><span class="tok-o">();</span>
<span class="tok-n">listIterator</span><span class="tok-o">.</span><span class="tok-na">previous</span><span class="tok-o">();</span>
<span class="tok-n">listIterator</span><span class="tok-o">.</span><span class="tok-na">next</span><span class="tok-o">();</span>
<span class="tok-n">assertEquals</span><span class="tok-o">(</span><span class="tok-n">listIterator</span><span class="tok-o">.</span><span class="tok-na">next</span><span class="tok-o">(),</span> <span class="tok-s">&quot;Baz&quot;</span><span class="tok-o">);</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_javas_spliterator">Using Java&#8217;s <code>Spliterator</code></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Iterator that "splits" perhaps for parallel purposes</p>
</li>
<li>
<p>Traverse elements individually using <code>tryAdvance</code></p>
</li>
<li>
<p>Traverse elements sequentially in bulk using <code>forEachRemaining</code></p>
</li>
<li>
<p><code>Spliterator</code> can be queried with characteristics about the underlying collection</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_foreachremaining_with_a_spliterator">Using <code>forEachRemaining</code> with a <code>Spliterator</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>forEachRemaining</code> iterates all elements using given <code>Consumer</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">var</span> <span class="tok-n">list</span> <span class="tok-o">=</span> <span class="tok-n">List</span><span class="tok-o">.</span><span class="tok-na">of</span><span class="tok-o">(</span><span class="tok-s">&quot;Foo&quot;</span><span class="tok-o">,</span> <span class="tok-s">&quot;Bar&quot;</span><span class="tok-o">,</span> <span class="tok-s">&quot;Baz&quot;</span><span class="tok-o">,</span> <span class="tok-s">&quot;Qux&quot;</span><span class="tok-o">,</span> <span class="tok-s">&quot;Quux&quot;</span><span class="tok-o">);</span>
<span class="tok-n">var</span> <span class="tok-n">split1</span> <span class="tok-o">=</span> <span class="tok-n">list</span><span class="tok-o">.</span><span class="tok-na">spliterator</span><span class="tok-o">();</span>
<span class="tok-n">var</span> <span class="tok-n">split2</span> <span class="tok-o">=</span> <span class="tok-n">split1</span><span class="tok-o">.</span><span class="tok-na">trySplit</span><span class="tok-o">();</span>
<span class="tok-n">split1</span><span class="tok-o">.</span><span class="tok-na">forEachRemaining</span><span class="tok-o">(</span><span class="tok-n">x</span> <span class="tok-o">-&gt;</span> <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;S1 &quot;</span> <span class="tok-o">+</span> <span class="tok-n">x</span><span class="tok-o">));</span>
<span class="tok-n">split2</span><span class="tok-o">.</span><span class="tok-na">forEachRemaining</span><span class="tok-o">(</span><span class="tok-n">x</span> <span class="tok-o">-&gt;</span> <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;S2 &quot;</span> <span class="tok-o">+</span> <span class="tok-n">x</span><span class="tok-o">));</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Will result in:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>S1 Baz
S1 Qux
S1 Quux
S2 Foo
S2 Bar</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_tryadvance_with_a_spliterator">Using <code>tryAdvance</code> with a <code>Spliterator</code></h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">var</span> <span class="tok-n">list</span> <span class="tok-o">=</span> <span class="tok-n">List</span><span class="tok-o">.</span><span class="tok-na">of</span><span class="tok-o">(</span><span class="tok-s">&quot;Foo&quot;</span><span class="tok-o">,</span> <span class="tok-s">&quot;Bar&quot;</span><span class="tok-o">,</span> <span class="tok-s">&quot;Baz&quot;</span><span class="tok-o">,</span> <span class="tok-s">&quot;Qux&quot;</span><span class="tok-o">,</span> <span class="tok-s">&quot;Quux&quot;</span><span class="tok-o">);</span>
<span class="tok-n">var</span> <span class="tok-n">split1</span> <span class="tok-o">=</span> <span class="tok-n">list</span><span class="tok-o">.</span><span class="tok-na">spliterator</span><span class="tok-o">();</span>
<span class="tok-n">var</span> <span class="tok-n">split2</span> <span class="tok-o">=</span> <span class="tok-n">split1</span><span class="tok-o">.</span><span class="tok-na">trySplit</span><span class="tok-o">();</span>
<span class="tok-n">split1</span><span class="tok-o">.</span><span class="tok-na">tryAdvance</span><span class="tok-o">(</span><span class="tok-n">x</span> <span class="tok-o">-&gt;</span> <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;S1 &quot;</span> <span class="tok-o">+</span> <span class="tok-n">x</span><span class="tok-o">));</span>
<span class="tok-n">split2</span><span class="tok-o">.</span><span class="tok-na">tryAdvance</span><span class="tok-o">(</span><span class="tok-n">x</span> <span class="tok-o">-&gt;</span> <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;S2 &quot;</span> <span class="tok-o">+</span> <span class="tok-n">x</span><span class="tok-o">));</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Will result in:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>S1 Baz
S2 Foo</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_template_method_pattern">Template Method Pattern</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_template_method_properties">Template Method Properties</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_template_method_canonical_diagram">Template Method Canonical Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/template-method-pattern.png" alt="template method pattern" width="237" height="361">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_template_method_diagram">Template Method Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/template_method_uml.png" alt="template method uml">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_template_method_purpose">Template Method Purpose</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>To provide a method that allows subclasses to override parts of the method without rewriting it.</p>
</li>
<li>
<p>To provide a skeleton structure for a method</p>
</li>
<li>
<p>Allow subclasses to redefine specific parts of the method.</p>
</li>
<li>
<p>To centralize pieces of a method that are defined in all subtypes of a class</p>
</li>
<li>
<p>Always have a small difference in each subclass.</p>
</li>
<li>
<p>Control which operations subclasses are required to override.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_template_method_the_abstract_class">Template Method: The <code>abstract</code> class</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">abstract</span> <span class="tok-kd">class</span> <span class="tok-nc">SongWriter</span> <span class="tok-o">{</span>
    <span class="tok-kd">abstract</span> <span class="tok-kt">void</span> <span class="tok-nf">writeString</span><span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">str</span><span class="tok-o">)</span> <span class="tok-kd">throws</span> <span class="tok-n">SongWriterException</span><span class="tok-o">;</span>
    <span class="tok-kd">public</span> <span class="tok-kd">abstract</span> <span class="tok-kt">void</span> <span class="tok-nf">writeNewLine</span><span class="tok-o">()</span> <span class="tok-kd">throws</span> <span class="tok-n">SongWriterException</span><span class="tok-o">;</span>

    <span class="tok-kd">public</span> <span class="tok-kd">final</span> <span class="tok-kt">void</span> <span class="tok-nf">writeLyrics</span><span class="tok-o">()</span> <span class="tok-kd">throws</span> <span class="tok-n">SongWriterException</span> <span class="tok-o">{</span>
        <span class="tok-n">writeString</span><span class="tok-o">(</span><span class="tok-s">&quot;I see trees of green&quot;</span><span class="tok-o">);</span>
        <span class="tok-n">writeNewLine</span><span class="tok-o">();</span>
        <span class="tok-n">writeString</span><span class="tok-o">(</span><span class="tok-s">&quot;red roses too, I see them bloom&quot;</span><span class="tok-o">);</span>
        <span class="tok-n">writeNewLine</span><span class="tok-o">();</span>
        <span class="tok-n">writeString</span><span class="tok-o">(</span><span class="tok-s">&quot;for me and you&quot;</span><span class="tok-o">);</span>
        <span class="tok-n">writeNewLine</span><span class="tok-o">();</span>
        <span class="tok-n">writeString</span><span class="tok-o">(</span><span class="tok-s">&quot;and I think to myself&quot;</span><span class="tok-o">);</span>
        <span class="tok-n">writeNewLine</span><span class="tok-o">();</span>
        <span class="tok-n">writeString</span><span class="tok-o">(</span><span class="tok-s">&quot;what a wonderful world&quot;</span><span class="tok-o">);</span>
        <span class="tok-n">writeNewLine</span><span class="tok-o">();</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_template_method_one_possible_implementation">Template Method: One possible implementation</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kn">import</span> <span class="tok-nn">java.io.IOException</span><span class="tok-o">;</span>
<span class="tok-kn">import</span> <span class="tok-nn">java.io.Writer</span><span class="tok-o">;</span>

<span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">SongWriterWithWriter</span> <span class="tok-kd">extends</span> <span class="tok-n">SongWriter</span> <span class="tok-o">{</span>
    <span class="tok-kd">private</span> <span class="tok-kd">final</span> <span class="tok-n">Writer</span> <span class="tok-n">writer</span><span class="tok-o">;</span>

    <span class="tok-kd">public</span> <span class="tok-nf">SongWriterWithWriter</span><span class="tok-o">(</span><span class="tok-n">Writer</span> <span class="tok-n">writer</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">writer</span> <span class="tok-o">=</span> <span class="tok-n">writer</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-nd">@Override</span>
    <span class="tok-kt">void</span> <span class="tok-nf">writeString</span><span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">str</span><span class="tok-o">)</span> <span class="tok-kd">throws</span> <span class="tok-n">SongWriterException</span> <span class="tok-o">{</span>
        <span class="tok-k">try</span> <span class="tok-o">{</span>
            <span class="tok-n">writer</span><span class="tok-o">.</span><span class="tok-na">write</span><span class="tok-o">(</span><span class="tok-n">str</span><span class="tok-o">);</span>
        <span class="tok-o">}</span> <span class="tok-k">catch</span> <span class="tok-o">(</span><span class="tok-n">IOException</span> <span class="tok-n">e</span><span class="tok-o">)</span> <span class="tok-o">{</span>
            <span class="tok-k">throw</span> <span class="tok-k">new</span> <span class="tok-n">SongWriterException</span><span class="tok-o">(</span><span class="tok-n">e</span><span class="tok-o">);</span>
        <span class="tok-o">}</span>
    <span class="tok-o">}</span>

    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">writeNewLine</span><span class="tok-o">()</span> <span class="tok-kd">throws</span> <span class="tok-n">SongWriterException</span> <span class="tok-o">{</span>
        <span class="tok-k">try</span> <span class="tok-o">{</span>
            <span class="tok-n">writer</span><span class="tok-o">.</span><span class="tok-na">write</span><span class="tok-o">(</span><span class="tok-s">&quot;\n&quot;</span><span class="tok-o">);</span>
        <span class="tok-o">}</span> <span class="tok-k">catch</span> <span class="tok-o">(</span><span class="tok-n">IOException</span> <span class="tok-n">e</span><span class="tok-o">)</span> <span class="tok-o">{</span>
            <span class="tok-k">throw</span> <span class="tok-k">new</span> <span class="tok-n">SongWriterException</span><span class="tok-o">(</span><span class="tok-n">e</span><span class="tok-o">);</span>
        <span class="tok-o">}</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_template_method_another_possible_implementation">Template Method: Another possible implementation</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">SongWriterSystemOut</span> <span class="tok-kd">extends</span> <span class="tok-n">SongWriter</span> <span class="tok-o">{</span>
    <span class="tok-nd">@Override</span>
    <span class="tok-kt">void</span> <span class="tok-nf">writeString</span><span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">str</span><span class="tok-o">)</span> <span class="tok-kd">throws</span> <span class="tok-n">SongWriterException</span> <span class="tok-o">{</span>
        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-n">str</span><span class="tok-o">);</span>
    <span class="tok-o">}</span>

    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">writeNewLine</span><span class="tok-o">()</span> <span class="tok-kd">throws</span> <span class="tok-n">SongWriterException</span> <span class="tok-o">{</span>
        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">();</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_template_method_can_be_done_with_default_methods">Template Method can be done with <code>default</code> methods</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">LineItem</span> <span class="tok-o">{</span>
    <span class="tok-kd">public</span> <span class="tok-kt">float</span> <span class="tok-nf">getCost</span><span class="tok-o">();</span>
    <span class="tok-kd">public</span> <span class="tok-kt">float</span> <span class="tok-nf">getQuantity</span><span class="tok-o">();</span>
    <span class="tok-kd">public</span> <span class="tok-kt">float</span> <span class="tok-nf">getDiscount</span><span class="tok-o">();</span>
    <span class="tok-kd">public</span> <span class="tok-k">default</span> <span class="tok-kt">float</span> <span class="tok-nf">getSubtotal</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-o">(</span><span class="tok-n">getCost</span><span class="tok-o">()</span> <span class="tok-o">*</span> <span class="tok-n">getQuantity</span><span class="tok-o">())</span> <span class="tok-o">*</span> <span class="tok-n">getDiscount</span><span class="tok-o">();</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_lab_the_combine_template_method_in_the_function_interface">Lab: The 'combine' template method in the <code>Function</code> interface</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Step 1:</strong> In design_patterns_training, go to the <em>src/test/java</em> folder exists and
a package called <code>com.xyzcorp.templatemethod</code>, if they don&#8217;t exist, create them.</p>
</div>
<div class="paragraph">
<p><strong>Step 2:</strong> In the <code>com.xyzcorp.templatemethod</code> package, create a test class called <code>TemplateMethodTest</code></p>
</div>
<div class="paragraph">
<p><strong>Step 3:</strong> In the <code>TemplateMethodTest</code>, create a test called <code>testFunctionCompose</code>, and in the test create two functions</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A <code>Function</code> that takes an <code>Object</code> and returns the result of <code>toString</code></p>
</li>
<li>
<p>A <code>Function</code> that takes an <code>String</code> and returns the size of the <code>String</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Step 4:</strong> Using the API of <code>Function</code> as a guide, combine these two functions using <code>combine</code> which
will be a <code>Function</code> that takes an <code>Object</code> and returns <code>String</code></p>
</div>
<div class="paragraph">
<p><strong>Step 5:</strong> Test your results</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_lab_the_andthen_template_method_in_the_function_interface">Lab: The <code>andThen</code> template method in the <code>Function</code> interface</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Step 6:</strong> In the <code>TemplateMethodTest</code>, create a test called <code>testFunctionAndThen</code>, and in the test, create or copy
the two functions from the previous test:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A <code>Function</code> that takes an <code>Object</code> and returns the result of <code>toString</code></p>
</li>
<li>
<p>A <code>Function</code> that takes an <code>String</code> and returns the size of the <code>String</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Step 7:</strong> Using the API of <code>Function</code> as a guide, combine these two functions using <code>andThen</code> which
will be a <code>Function</code> that takes an <code>Object</code> and returns <code>String</code></p>
</div>
<div class="paragraph">
<p><strong>Step 8:</strong> Test your results</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_mediator_pattern">Mediator Pattern</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_mediator_pattern_properties">Mediator Pattern Properties</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Type:</strong> Behavioral<br>
<strong>Level:</strong> Component<br></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mediator_purpose">Mediator Purpose</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Simplify communication among objects in a system by introducing
a single object that manages message distribution among the others</p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mediator_canonical_diagram">Mediator Canonical Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/mediator-pattern.png" alt="mediator pattern" width="373" height="356">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mediator_ingredients">Mediator Ingredients</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Mediator</strong> – The interface that defines the methods clients can call
 on a <code>Mediator</code>.</p>
</div>
<div class="paragraph">
<p><strong>ConcreteMediator</strong> – The class that implements the <code>Mediator</code> interface.
This class mediates among several client classes. It contains
application-specific information about processes,
and the <code>ConcreteMediator</code> might have some hardcoded references to its clients. Based on the information the Mediator receives, it can either invoke specific methods on the clients, or invoke a generic method to inform clients of a change or a combination of both.</p>
</div>
<div class="paragraph">
<p><strong>Client</strong> – The interface that defines the general methods a <code>Mediator</code>
 can use to inform client instances.</p>
</div>
<div class="paragraph">
<p><strong>ConcreteClient</strong> – A class that implements the <code>Client</code> interface and
provides an implementation to each of the client methods.
The <code>ConcreteClient</code> can keep a reference to a <code>Mediator</code> instance to
 inform colleague clients of a change (through the <code>Mediator</code>).</p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mediator_advantages">Mediator Advantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>There are complex rules for communication among objects in a system (often as a result of the business model).</p>
</li>
<li>
<p>You want to keep the objects simple and manageable.</p>
</li>
<li>
<p>You want the classes for these objects to be redeployable, not dependent on the business model of the system.</p>
</li>
<li>
<p>The individual components become simpler and easier to deal with, since they no longer need to directly pass messages to each other.</p>
</li>
<li>
<p>Components are more generic, no longer need to contain logic to deal with their communication with other components</p>
</li>
<li>
<p>Communications strategy becomes easier, since it is now the exclusive responsibility of the mediator</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mediator_disadvantages">Mediator Disadvantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>The Mediator is often application specific and difficult to redeploy</p>
</li>
<li>
<p>Testing and debugging complex Mediator implementations can be challenging</p>
</li>
<li>
<p>The Mediator’s code can become hard to manage as the number and complexity of participants increases</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mediator_demo_diagram">Mediator Demo Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/mediator_uml.png" alt="mediator uml">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mediator_the_mediator_interface">Mediator: The Mediator Interface</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">Mediator</span> <span class="tok-o">{</span>
    <span class="tok-kt">void</span> <span class="tok-nf">setUSCitizen</span><span class="tok-o">(</span><span class="tok-kt">boolean</span> <span class="tok-n">isUSCitizen</span><span class="tok-o">);</span>
    <span class="tok-kt">void</span> <span class="tok-nf">setNumberChildren</span><span class="tok-o">(</span><span class="tok-kt">int</span> <span class="tok-n">children</span><span class="tok-o">);</span>
    <span class="tok-kt">void</span> <span class="tok-nf">setMarried</span><span class="tok-o">(</span><span class="tok-kt">boolean</span> <span class="tok-n">isMarried</span><span class="tok-o">);</span>
    <span class="tok-kt">void</span> <span class="tok-nf">registerSpouseInfoWidget</span><span class="tok-o">(</span><span class="tok-n">Component</span> <span class="tok-n">component</span><span class="tok-o">);</span>
    <span class="tok-kt">void</span> <span class="tok-nf">registerChildrenInfoWidget</span><span class="tok-o">(</span><span class="tok-n">Component</span> <span class="tok-n">component</span><span class="tok-o">);</span>
    <span class="tok-kt">void</span> <span class="tok-nf">registerUSInfoWidget</span><span class="tok-o">(</span><span class="tok-n">Component</span> <span class="tok-n">component</span><span class="tok-o">);</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mediator_the_mediator_implementation_registration">Mediator: The Mediator Implementation Registration</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">StandardMediator</span> <span class="tok-kd">implements</span> <span class="tok-n">Mediator</span> <span class="tok-o">{</span>
    <span class="tok-kd">private</span> <span class="tok-n">Component</span> <span class="tok-n">spouseInfoWidget</span><span class="tok-o">;</span>
    <span class="tok-kd">private</span> <span class="tok-n">Component</span> <span class="tok-n">childrenInfoWidget</span><span class="tok-o">;</span>
    <span class="tok-kd">private</span> <span class="tok-n">Component</span> <span class="tok-n">usInfoWidget</span><span class="tok-o">;</span>

    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">registerSpouseInfoWidget</span><span class="tok-o">(</span><span class="tok-n">Component</span> <span class="tok-n">component</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">spouseInfoWidget</span> <span class="tok-o">=</span> <span class="tok-n">component</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">registerChildrenInfoWidget</span><span class="tok-o">(</span><span class="tok-n">Component</span> <span class="tok-n">component</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">childrenInfoWidget</span> <span class="tok-o">=</span> <span class="tok-n">component</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">registerUSInfoWidget</span><span class="tok-o">(</span><span class="tok-n">Component</span> <span class="tok-n">component</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">usInfoWidget</span> <span class="tok-o">=</span> <span class="tok-n">component</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mediator_the_mediator_implementation_activation">Mediator: The Mediator Implementation Activation</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">StandardMediator</span> <span class="tok-kd">implements</span> <span class="tok-n">Mediator</span> <span class="tok-o">{</span>
    <span class="tok-kd">private</span> <span class="tok-n">Component</span> <span class="tok-n">spouseInfoWidget</span><span class="tok-o">;</span>
    <span class="tok-kd">private</span> <span class="tok-n">Component</span> <span class="tok-n">childrenInfoWidget</span><span class="tok-o">;</span>
    <span class="tok-kd">private</span> <span class="tok-n">Component</span> <span class="tok-n">usInfoWidget</span><span class="tok-o">;</span>

    <span class="tok-c1">//Switches</span>

    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">setUSCitizen</span><span class="tok-o">(</span><span class="tok-kt">boolean</span> <span class="tok-n">isUSCitizen</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">usInfoWidget</span> <span class="tok-o">!=</span> <span class="tok-kc">null</span><span class="tok-o">)</span> <span class="tok-o">{</span>
            <span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">isUSCitizen</span><span class="tok-o">)</span> <span class="tok-o">{</span>
                <span class="tok-n">usInfoWidget</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>
            <span class="tok-o">}</span> <span class="tok-k">else</span> <span class="tok-o">{</span>
                <span class="tok-n">usInfoWidget</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">false</span><span class="tok-o">);</span>
            <span class="tok-o">}</span>
        <span class="tok-o">}</span>
    <span class="tok-o">}</span>

    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">setNumberChildren</span><span class="tok-o">(</span><span class="tok-kt">int</span> <span class="tok-n">children</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">childrenInfoWidget</span> <span class="tok-o">!=</span> <span class="tok-kc">null</span><span class="tok-o">)</span> <span class="tok-o">{</span>
            <span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">children</span> <span class="tok-o">&gt;</span> <span class="tok-mi">0</span><span class="tok-o">)</span> <span class="tok-o">{</span>
                <span class="tok-n">childrenInfoWidget</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>
            <span class="tok-o">}</span> <span class="tok-k">else</span> <span class="tok-o">{</span>
                <span class="tok-n">childrenInfoWidget</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">false</span><span class="tok-o">);</span>
            <span class="tok-o">}</span>
        <span class="tok-o">}</span>
    <span class="tok-o">}</span>

    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">setMarried</span><span class="tok-o">(</span><span class="tok-kt">boolean</span> <span class="tok-n">isMarried</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">spouseInfoWidget</span> <span class="tok-o">!=</span> <span class="tok-kc">null</span><span class="tok-o">)</span> <span class="tok-o">{</span>
            <span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">isMarried</span><span class="tok-o">)</span> <span class="tok-o">{</span>
                <span class="tok-n">spouseInfoWidget</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>
            <span class="tok-o">}</span> <span class="tok-k">else</span> <span class="tok-o">{</span>
                <span class="tok-n">spouseInfoWidget</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">false</span><span class="tok-o">);</span>
            <span class="tok-o">}</span>
        <span class="tok-o">}</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_memento_pattern">Memento Pattern</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_memento_pattern_properties">Memento Pattern Properties</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Type:</strong> Behavioral<br>
<strong>Level:</strong> Object<br></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_memento_purpose">Memento Purpose</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>To preserve a "snapshot" of an object’s state</p>
</li>
<li>
<p>Object can return to its original state without having to reveal its content to the rest of the world</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_memento_canonical_diagram">Memento Canonical Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/memento-pattern.png" alt="memento pattern" width="648" height="268">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_memento_advantages">Memento Advantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>A snapshot of the state of an object should be taken.</p>
</li>
<li>
<p>That snapshot is used to recreate the original state.</p>
</li>
<li>
<p>Doesn&#8217;t not expose internal state</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_memento_disadvantages">Memento Disadvantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Expensive Storage Overtime</p>
</li>
<li>
<p>Requires thought with large graphs</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_memento_demo_diagram">Memento Demo Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/memento_uml.png" alt="memento uml">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_memento_originator">Memento: Originator</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">Originator</span><span class="tok-o">&lt;</span><span class="tok-n">E</span><span class="tok-o">&gt;</span> <span class="tok-o">{</span>
    <span class="tok-kd">private</span> <span class="tok-n">E</span> <span class="tok-n">state</span><span class="tok-o">;</span>
    <span class="tok-c1">// The class could also contain</span>
    <span class="tok-c1">// additional data that is not part of the</span>
    <span class="tok-c1">// state saved in the memento..</span>

    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">set</span><span class="tok-o">(</span><span class="tok-n">E</span> <span class="tok-n">state</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">state</span> <span class="tok-o">=</span> <span class="tok-n">state</span><span class="tok-o">;</span>
        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Originator: Setting&quot;</span> <span class="tok-o">+</span>
                           <span class="tok-s">&quot; state to &quot;</span> <span class="tok-o">+</span> <span class="tok-n">state</span><span class="tok-o">);</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-n">Memento</span> <span class="tok-nf">saveToMemento</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Originator: Saving to Memento.&quot;</span><span class="tok-o">);</span>
        <span class="tok-k">return</span> <span class="tok-k">new</span> <span class="tok-n">Memento</span><span class="tok-o">&lt;&gt;(</span><span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">state</span><span class="tok-o">);</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">restoreFromMemento</span><span class="tok-o">(</span><span class="tok-n">Memento</span><span class="tok-o">&lt;</span><span class="tok-n">E</span><span class="tok-o">&gt;</span> <span class="tok-n">memento</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">state</span> <span class="tok-o">=</span> <span class="tok-n">memento</span><span class="tok-o">.</span><span class="tok-na">getSavedState</span><span class="tok-o">();</span>
        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Originator: State after&quot;</span> <span class="tok-o">+</span>
                           <span class="tok-s">&quot;restoring from Memento: &quot;</span> <span class="tok-o">+</span>
                           <span class="tok-n">state</span><span class="tok-o">);</span>
    <span class="tok-o">}</span>

    <span class="tok-c1">//Memento Declaration...</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Source: <a href="https://en.wikipedia.org/wiki/Memento_pattern" class="bare">https://en.wikipedia.org/wiki/Memento_pattern</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_memento_memento_inside_the_originator">Memento: Memento inside the Originator</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">Originator</span><span class="tok-o">&lt;</span><span class="tok-n">E</span><span class="tok-o">&gt;</span> <span class="tok-o">{</span>

    <span class="tok-c1">//Memento declaration and methods in previous slide</span>

    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kd">class</span> <span class="tok-nc">Memento</span><span class="tok-o">&lt;</span><span class="tok-n">S</span><span class="tok-o">&gt;</span> <span class="tok-o">{</span>
        <span class="tok-kd">private</span> <span class="tok-kd">final</span> <span class="tok-n">S</span> <span class="tok-n">state</span><span class="tok-o">;</span>

        <span class="tok-kd">public</span> <span class="tok-nf">Memento</span><span class="tok-o">(</span><span class="tok-n">S</span> <span class="tok-n">stateToSave</span><span class="tok-o">)</span> <span class="tok-o">{</span>
            <span class="tok-n">state</span> <span class="tok-o">=</span> <span class="tok-n">stateToSave</span><span class="tok-o">;</span>
        <span class="tok-o">}</span>

        <span class="tok-c1">// accessible by outer class only</span>
        <span class="tok-kd">private</span> <span class="tok-n">S</span> <span class="tok-nf">getSavedState</span><span class="tok-o">()</span> <span class="tok-o">{</span>
            <span class="tok-k">return</span> <span class="tok-n">state</span><span class="tok-o">;</span>
        <span class="tok-o">}</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Source: <a href="https://en.wikipedia.org/wiki/Memento_pattern" class="bare">https://en.wikipedia.org/wiki/Memento_pattern</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_memento_stateholder">Memento: StateHolder</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><code>Caretaker</code> is a state holder will hold the different <code>Memento</code></p>
</li>
<li>
<p>You can use whatever collection to recall the previous state</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kn">import</span> <span class="tok-nn">java.util.Stack</span><span class="tok-o">;</span>

<span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">Caretaker</span><span class="tok-o">&lt;</span><span class="tok-n">S</span><span class="tok-o">&gt;</span> <span class="tok-o">{</span>
    <span class="tok-kd">private</span> <span class="tok-n">Stack</span><span class="tok-o">&lt;</span><span class="tok-n">Originator</span><span class="tok-o">.</span><span class="tok-na">Memento</span><span class="tok-o">&lt;</span><span class="tok-n">S</span><span class="tok-o">&gt;&gt;</span> <span class="tok-n">stack</span><span class="tok-o">;</span>

    <span class="tok-kd">public</span> <span class="tok-nf">Caretaker</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">stack</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Stack</span><span class="tok-o">&lt;&gt;();</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">addMemento</span><span class="tok-o">(</span><span class="tok-n">Originator</span><span class="tok-o">.</span><span class="tok-na">Memento</span><span class="tok-o">&lt;</span><span class="tok-n">S</span><span class="tok-o">&gt;</span> <span class="tok-n">memento</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">stack</span><span class="tok-o">.</span><span class="tok-na">push</span><span class="tok-o">(</span><span class="tok-n">memento</span><span class="tok-o">);</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-n">Originator</span><span class="tok-o">.</span><span class="tok-na">Memento</span><span class="tok-o">&lt;</span><span class="tok-n">S</span><span class="tok-o">&gt;</span> <span class="tok-nf">getLastMemento</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">stack</span><span class="tok-o">.</span><span class="tok-na">pop</span><span class="tok-o">();</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_observer_pattern">Observer Pattern</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_observer_pattern_properties">Observer Pattern Properties</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Type:</strong> Behavioral<br>
<strong>Level:</strong> Component<br></p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_observer_pattern_purpose">Observer Pattern Purpose</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To provide a way for a component to flexibly broadcast messages to interested receivers.</p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_observer_canonical_pattern">Observer Canonical Pattern</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/observer-pattern.png" alt="observer pattern" width="401" height="385">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_observer_ingredients">Observer Ingredients</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Observable</strong> – The interface that defines how the observers/clients can interact with an <code>Observable</code>.
 These methods include adding and removing observers, and one or more notification methods
 to send information through the <code>Observable</code> to its clients.</p>
</div>
<div class="paragraph">
<p><strong>ConcreteObservable</strong> – A class that provides implementations for each of the methods in the
 <code>Observable</code> interface. It needs to maintain a collection of Observers.</p>
</div>
<div class="paragraph">
<p>The notification methods copy (or clone) the <code>Observer</code> list and iterate through the list,
 and call the specific listener methods on each <code>Observer</code>.</p>
</div>
<div class="paragraph">
<p><strong>Observer</strong> – The interface the <code>Observer</code> uses to communicate with the clients.</p>
</div>
<div class="paragraph">
<p><strong>ConcreteObserver</strong> – Implements the <code>Observable</code> interface and determines in each
implemented method how to respond to the message received from the <code>Observable</code>.</p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_observer_demo_diagram">Observer Demo Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/observer_uml.png" alt="observer uml">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_observer_object">Observer: Object</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">RSSEntry</span> <span class="tok-o">{</span>

    <span class="tok-kd">private</span> <span class="tok-n">String</span> <span class="tok-n">value</span><span class="tok-o">;</span>

    <span class="tok-kd">public</span> <span class="tok-nf">RSSEntry</span><span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">value</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">value</span> <span class="tok-o">=</span> <span class="tok-n">value</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-n">String</span> <span class="tok-nf">getValue</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-n">value</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_observer_concrete_observable">Observer: Concrete Observable</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">RSSFeed</span> <span class="tok-o">{</span>

    <span class="tok-kd">private</span> <span class="tok-n">List</span><span class="tok-o">&lt;</span><span class="tok-n">RSSObserver</span><span class="tok-o">&gt;</span> <span class="tok-n">observers</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">ArrayList</span><span class="tok-o">&lt;</span><span class="tok-n">RSSObserver</span><span class="tok-o">&gt;();</span>

    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">broadcast</span><span class="tok-o">(</span><span class="tok-n">RSSEntry</span> <span class="tok-n">entry</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">for</span> <span class="tok-o">(</span><span class="tok-n">RSSObserver</span> <span class="tok-n">observer</span> <span class="tok-o">:</span> <span class="tok-n">observers</span><span class="tok-o">)</span> <span class="tok-o">{</span>
            <span class="tok-n">observer</span><span class="tok-o">.</span><span class="tok-na">update</span><span class="tok-o">(</span><span class="tok-n">entry</span><span class="tok-o">);</span>
        <span class="tok-o">}</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-n">RSSObserver</span> <span class="tok-nf">addObserver</span><span class="tok-o">(</span><span class="tok-n">RSSObserver</span> <span class="tok-n">observer</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-n">observers</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">observer</span><span class="tok-o">);</span>
        <span class="tok-k">return</span> <span class="tok-n">observer</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">removeObserver</span><span class="tok-o">(</span><span class="tok-n">RSSObserver</span> <span class="tok-n">observer</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-n">observers</span><span class="tok-o">.</span><span class="tok-na">remove</span><span class="tok-o">(</span><span class="tok-n">observer</span><span class="tok-o">);</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_observer_observer">Observer: Observer</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">RSSObserver</span> <span class="tok-o">{</span>

    <span class="tok-kt">void</span> <span class="tok-nf">update</span><span class="tok-o">(</span><span class="tok-n">RSSEntry</span> <span class="tok-n">entry</span><span class="tok-o">);</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_observer_concrete_observer">Observer: Concrete Observer</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">LoggingObserver</span> <span class="tok-kd">implements</span> <span class="tok-n">RSSObserver</span> <span class="tok-o">{</span>

    <span class="tok-kd">private</span> <span class="tok-n">FileWriter</span> <span class="tok-n">log</span><span class="tok-o">;</span>

    <span class="tok-kd">public</span> <span class="tok-nf">LoggingObserver</span><span class="tok-o">(</span><span class="tok-n">File</span> <span class="tok-n">log</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">try</span> <span class="tok-o">{</span>
            <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">log</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">FileWriter</span><span class="tok-o">(</span><span class="tok-n">log</span><span class="tok-o">);</span>
        <span class="tok-o">}</span> <span class="tok-k">catch</span> <span class="tok-o">(</span><span class="tok-n">IOException</span> <span class="tok-n">e</span><span class="tok-o">)</span> <span class="tok-o">{</span>
            <span class="tok-n">e</span><span class="tok-o">.</span><span class="tok-na">printStackTrace</span><span class="tok-o">();</span>
        <span class="tok-o">}</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">update</span><span class="tok-o">(</span><span class="tok-n">RSSEntry</span> <span class="tok-n">entry</span><span class="tok-o">)</span> <span class="tok-o">{</span>

        <span class="tok-k">try</span> <span class="tok-o">{</span>
            <span class="tok-n">log</span><span class="tok-o">.</span><span class="tok-na">write</span><span class="tok-o">(</span><span class="tok-n">entry</span><span class="tok-o">.</span><span class="tok-na">getValue</span><span class="tok-o">());</span>
            <span class="tok-n">log</span><span class="tok-o">.</span><span class="tok-na">write</span><span class="tok-o">(</span><span class="tok-sc">&#39;\n&#39;</span><span class="tok-o">);</span>
            <span class="tok-n">log</span><span class="tok-o">.</span><span class="tok-na">flush</span><span class="tok-o">();</span>
        <span class="tok-o">}</span> <span class="tok-k">catch</span> <span class="tok-o">(</span><span class="tok-n">IOException</span> <span class="tok-n">e</span><span class="tok-o">)</span> <span class="tok-o">{</span>
            <span class="tok-n">e</span><span class="tok-o">.</span><span class="tok-na">printStackTrace</span><span class="tok-o">();</span>
        <span class="tok-o">}</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_observer_another_concrete_observer">Observer: Another Concrete Observer</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">ConsoleOutObserver</span> <span class="tok-kd">implements</span> <span class="tok-n">RSSObserver</span> <span class="tok-o">{</span>

    <span class="tok-kd">private</span> <span class="tok-n">String</span> <span class="tok-n">name</span><span class="tok-o">;</span>

    <span class="tok-kd">public</span> <span class="tok-nf">ConsoleOutObserver</span><span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">name</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">name</span> <span class="tok-o">=</span> <span class="tok-n">name</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">update</span><span class="tok-o">(</span><span class="tok-n">RSSEntry</span> <span class="tok-n">entry</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-n">name</span> <span class="tok-o">+</span> <span class="tok-s">&quot; : &quot;</span> <span class="tok-o">+</span> <span class="tok-n">entry</span><span class="tok-o">.</span><span class="tok-na">getValue</span><span class="tok-o">());</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_lab_using_guavas_observer">Lab: Using Guava&#8217;s Observer</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Guava has an interesting flavor of the Observer pattern called <code>EventBus</code>
 <a href="https://github.com/google/guava/wiki/EventBusExplained" class="bare">https://github.com/google/guava/wiki/EventBusExplained</a></p>
</div>
<div class="paragraph">
<p><strong>Step 1:</strong> In design_patterns_training, go to the <em>src/test/java</em> folder and
a package called <code>com.xyzcorp.observer</code>, if it does not exist create it.</p>
</div>
<div class="paragraph">
<p><strong>Step 2:</strong> In the <code>com.xyzcorp.observer</code> package, create a test called <code>BroadcastTest</code></p>
</div>
<div class="paragraph">
<p><strong>Step 3:</strong> Create a class called <code>BroadcastEvent</code> inside <code>BroadcastTest</code>, this will be a plain old java object.  <code>BroadcastEvent</code>
should have a single property called <code>message</code> and should be a type of <code>String</code>. Be sure to include <code>equals</code>,
<code>hashCode</code>, <code>toString</code></p>
</div>
<div class="paragraph">
<p><strong>Step 4:</strong> Create a class called <code>Broadcaster</code> inside of <code>BroadcastTest</code> that has a single property called <code>eventBus</code> of type <code>com.google.common.eventbus.EventBus</code>
be sure that it is assignable via a constructor or a setter. Create a method called <code>broadcastToAll</code>
that returns <code>void</code>.  Inside of the <code>broadcastToAll</code>, use the <code>eventBus</code> to <code>post</code> a new <code>BroadcastEvent</code> with whatever message you would like</p>
</div>
<div class="paragraph">
<p><strong>Step 5:</strong> Create a class called <code>Subscriber</code> inside of <code>BroadcastTest</code> that contains a property
of type <code>List&lt;String&gt;</code> called <code>messages</code></p>
</div>
<div class="paragraph">
<p><strong>Step 6:</strong> In <code>Subscriber</code>, create a method called <code>eventOccured</code> that includes the
 annotation <code>com.google.common.eventbus.Subscribe</code> and the following signature:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-nd">@Subscribe</span>
<span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">eventOccured</span><span class="tok-o">(</span><span class="tok-n">BroadcastEvent</span> <span class="tok-n">event</span><span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-n">messages</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">event</span><span class="tok-o">.</span><span class="tok-na">getMessage</span><span class="tok-o">());</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Step 7:</strong> In <code>Subscriber</code>, create a method called <code>getCount</code> that will return the number of message it received. Next,
create a method called <code>getMessages</code> that will return the <code>List&lt;String&gt;</code> <code>messages</code> property or a copy of the property</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_lab_using_guavas_observer_2">Lab: Using Guava&#8217;s Observer</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Step 8:</strong> In the <code>BroadcastTest</code> you created, create a test method called <code>testBasicUse()</code> with the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">EventBus</span> <span class="tok-n">eventBus</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">EventBus</span><span class="tok-o">();</span>
<span class="tok-n">Subscriber</span> <span class="tok-n">subscriber</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Subscriber</span><span class="tok-o">();</span>
<span class="tok-n">eventBus</span><span class="tok-o">.</span><span class="tok-na">register</span><span class="tok-o">(</span><span class="tok-n">subscriber</span><span class="tok-o">);</span>

<span class="tok-n">Broadcaster</span> <span class="tok-n">broadcaster</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Broadcaster</span><span class="tok-o">();</span>
<span class="tok-n">broadcaster</span><span class="tok-o">.</span><span class="tok-na">setEventBus</span><span class="tok-o">(</span><span class="tok-n">eventBus</span><span class="tok-o">);</span>

<span class="tok-n">broadcaster</span><span class="tok-o">.</span><span class="tok-na">broadcastToAll</span><span class="tok-o">();</span>
<span class="tok-n">broadcaster</span><span class="tok-o">.</span><span class="tok-na">broadcastToAll</span><span class="tok-o">();</span>
<span class="tok-n">broadcaster</span><span class="tok-o">.</span><span class="tok-na">broadcastToAll</span><span class="tok-o">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Step 9:</strong> In the <code>testBasicUse()</code> method, use <code>subscriber&#8217;s `count</code> and <code>getMessages</code> to ensure that the messages were recieved, and run the tests.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_structural_patterns">Structural Patterns</h2>
<div class="sectionbody">
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_adapter_pattern">Adapter Pattern</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_adapter_pattern_canonical_diagram">Adapter Pattern Canonical Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/adapter-pattern.png" alt="adapter pattern" width="350" height="228">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adapter_pattern_purpose">Adapter Pattern Purpose</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>To act as an intermediary between two classes</p>
</li>
<li>
<p>Converting the interface of one class so that
it can be used with another</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adapter_pattern_advantages">Adapter Pattern Advantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Code Reuse</p>
</li>
<li>
<p>Apply a different interface</p>
</li>
<li>
<p>Translate code from another language</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adapter_pattern_disadvantages">Adapter Pattern Disadvantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>The parameters may not be the same</p>
</li>
<li>
<p>May require more work if the methods are substantial</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adapter_pattern_demo_diagram">Adapter Pattern Demo Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/adapter_uml.png" alt="adapter uml">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adapter_pattern_the_target_adaptee">Adapter Pattern: The Target (Adaptee)</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">CelciusThermometer</span> <span class="tok-o">{</span>

    <span class="tok-kd">private</span> <span class="tok-kt">double</span> <span class="tok-n">temp</span><span class="tok-o">;</span>

    <span class="tok-kd">public</span> <span class="tok-nf">CelciusThermometer</span><span class="tok-o">(</span><span class="tok-kt">double</span> <span class="tok-n">temp</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">temp</span> <span class="tok-o">=</span> <span class="tok-n">temp</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-kt">double</span> <span class="tok-nf">getTemperateInC</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-n">temp</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adapter_pattern_the_adapter">Adapter Pattern: The Adapter</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">CelciusToFahrenheitAdapter</span>
   <span class="tok-kd">implements</span> <span class="tok-n">FahrenheitThermometer</span> <span class="tok-o">{</span>

    <span class="tok-kd">private</span> <span class="tok-n">CelciusThermometer</span> <span class="tok-n">celciusThermometer</span><span class="tok-o">;</span>

    <span class="tok-kd">public</span> <span class="tok-nf">CelciusToFahrenheitAdapter</span>
              <span class="tok-o">(</span><span class="tok-n">CelciusThermometer</span> <span class="tok-n">celciusThermometer</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">celciusThermometer</span> <span class="tok-o">=</span> <span class="tok-n">celciusThermometer</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-kt">double</span> <span class="tok-nf">getTemperateInF</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-n">convertCtoF</span><span class="tok-o">(</span><span class="tok-n">celciusThermometer</span><span class="tok-o">.</span><span class="tok-na">getTemperateInC</span><span class="tok-o">());</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">private</span> <span class="tok-kt">double</span> <span class="tok-nf">convertCtoF</span><span class="tok-o">(</span><span class="tok-kt">double</span> <span class="tok-n">c</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-o">(</span><span class="tok-n">c</span> <span class="tok-o">*</span> <span class="tok-mi">9</span> <span class="tok-o">/</span> <span class="tok-mi">5</span><span class="tok-o">)</span> <span class="tok-o">+</span> <span class="tok-mi">32</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adapter_pattern_the_adapters_interface">Adapter Pattern: The Adapter&#8217;s Interface</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">FahrenheitThermometer</span> <span class="tok-o">{</span>
    <span class="tok-kt">double</span> <span class="tok-nf">getTemperateInF</span><span class="tok-o">();</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_lab_making_an_adapter">Lab: Making an Adapter</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Step 1:</strong> In design_patterns_training, go to <em>src/test/java</em> and
a package called <code>com.xyzcorp.adapter</code>, if they do not exist, create them.</p>
</div>
<div class="paragraph">
<p><strong>Step 2:</strong> In the <code>com.xyzcorp.adapter</code> package, create a test class called <code>AdapterTest</code></p>
</div>
<div class="paragraph">
<p><strong>Step 3:</strong> There is no <code>isOdd</code> nor <code>isEven</code> in the <code>java.lang.Integer</code> class, but we don&#8217;t have access to the source.
In the <code>AdapterTest</code>, create an adapter with an <code>isOdd</code> method that returns a <code>boolean</code> if the target is odd,
call it <code>OddEvenAdapter</code>. Create an <code>isEven</code> method that returns <code>boolean</code> if the target is even.</p>
</div>
<div class="paragraph">
<p><strong>Step 4:</strong> Test the results in a test method called <code>testAdapter</code></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_bridge_pattern">Bridge Pattern</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_bridge_pattern_properties">Bridge Pattern Properties</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Type:</strong> Structural, Object
<strong>Level:</strong> Component</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bridge_pattern_purpose">Bridge Pattern Purpose</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>To divide a complex component into two separate but related inheritance hierarchies:</p>
<div class="ulist">
<ul>
<li>
<p>The functional Abstraction</p>
</li>
<li>
<p>The internal implementation</p>
</li>
</ul>
</div>
</li>
<li>
<p>This makes it easier to change either aspect of the component</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bridge_pattern_canonical_diagram">Bridge Pattern Canonical Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/bridge-pattern.png" alt="bridge pattern" width="851" height="229">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bridge_pattern_advantages">Bridge Pattern Advantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Decouples an implementation so that it is not bound permanently to an interface.</p>
</li>
<li>
<p>Abstraction and implementation can be extended independently.</p>
</li>
<li>
<p>Changes to the concrete abstraction classes don’t affect the client.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bridge_pattern_disadvantages">Bridge Pattern Disadvantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Useful in graphics and windowing systems that need to run over multiple platforms.</p>
</li>
<li>
<p>Useful any time you need to vary an interface and an implementation in different ways.</p>
</li>
<li>
<p>Increases complexity and components</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bridge_demo_diagram">Bridge Demo Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/bridge_uml.png" alt="bridge uml">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bridge_abstraction">Bridge: Abstraction</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">abstract</span> <span class="tok-kd">class</span> <span class="tok-nc">Draw</span> <span class="tok-o">{</span>

    <span class="tok-kd">abstract</span> <span class="tok-n">Ink</span> <span class="tok-nf">getInk</span><span class="tok-o">();</span>
    <span class="tok-kd">abstract</span> <span class="tok-n">String</span> <span class="tok-nf">getShape</span><span class="tok-o">();</span>

    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">draw</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Drawing a &quot;</span> <span class="tok-o">+</span> <span class="tok-n">getShape</span><span class="tok-o">()</span> <span class="tok-o">+</span> <span class="tok-s">&quot; with &quot;</span> <span class="tok-o">+</span> <span class="tok-n">getInk</span><span class="tok-o">().</span><span class="tok-na">getColor</span><span class="tok-o">()</span> <span class="tok-o">+</span> <span class="tok-s">&quot; ink&quot;</span><span class="tok-o">);</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bridge_refine_abstraction">Bridge: Refine Abstraction</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">SquareDraw</span> <span class="tok-kd">extends</span> <span class="tok-n">Draw</span> <span class="tok-o">{</span>

    <span class="tok-kd">private</span> <span class="tok-kd">final</span> <span class="tok-n">Ink</span> <span class="tok-n">ink</span><span class="tok-o">;</span>

    <span class="tok-kd">public</span> <span class="tok-nf">SquareDraw</span><span class="tok-o">(</span><span class="tok-n">Ink</span> <span class="tok-n">ink</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">ink</span> <span class="tok-o">=</span> <span class="tok-n">ink</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-nd">@Override</span>
    <span class="tok-n">Ink</span> <span class="tok-nf">getInk</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-n">ink</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-nd">@Override</span>
    <span class="tok-n">String</span> <span class="tok-nf">getShape</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-s">&quot;square&quot;</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bridge_implementation">Bridge: Implementation</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">Ink</span> <span class="tok-o">{</span>
    <span class="tok-n">String</span> <span class="tok-nf">getColor</span><span class="tok-o">();</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bridge_concrete_implementation">Bridge: Concrete Implementation</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span>
<span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">RedInk</span> <span class="tok-kd">implements</span> <span class="tok-n">Ink</span> <span class="tok-o">{</span>
    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-n">String</span> <span class="tok-nf">getColor</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-s">&quot;red&quot;</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bridge_another_concrete_implementation">Bridge: Another Concrete Implementation</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">BlueInk</span> <span class="tok-kd">implements</span> <span class="tok-n">Ink</span> <span class="tok-o">{</span>
    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-n">String</span> <span class="tok-nf">getColor</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-s">&quot;blue&quot;</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_composite_pattern">Composite Pattern</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_composite_properties">Composite Properties</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Type:</strong> Structural, Object
<strong>Level:</strong> Component</p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_composite_purpose">Composite Purpose</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>To develop a flexible way to create hierarchical tree structures of arbitrary complexity</p>
</li>
<li>
<p>While enabling every element in the structure to operate with a uniform interface</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_composite_pattern_canonical_diagram">Composite Pattern Canonical Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/composite-pattern.png" alt="composite pattern" width="405" height="340">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_composite_ingredients">Composite Ingredients</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Component</strong> – The <code>Component</code> interface defines methods available for all
parts of the tree structure. <code>Component</code> may be implemented as abstract class
 when you need to provide standard behavior to all of the sub-types. Normally,
  the component is not instantiable; its subclasses or implementing classes,
   also called nodes, are instantiable and are used to create a collection or
    tree structure.</p>
</div>
<div class="paragraph">
<p><strong>Composite</strong> – This class is defined by the components it contains;
it is composed by its components. The <code>Composite</code> supports a dynamic group
 of <code>Components</code> so it has methods to add and remove <code>Component</code> instances
 from its collection. The methods defined in the <code>Component</code> are implemented
  to execute the behavior specific for this type of <code>Composite</code> and to call
  the same method on each of its nodes. These <code>Composite</code> classes are also
   called branch or container classes.</p>
</div>
<div class="paragraph">
<p><strong>Leaf</strong> – The class that implements the <code>Component</code> interface and that provides
 an implementation for each of the <code>Component</code> ’s methods. The distinction between
  a Leaf class and a <code>Composite</code> class is that the Leaf contains no references
   to other <code>Components</code>. The Leaf classes represent the lowest levels
    of the containment structure.</p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_composite_advantages">Composite Advantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Users perceive a unified structure</p>
</li>
<li>
<p>Users can also add or remove components</p>
</li>
<li>
<p>Great for</p>
<div class="ulist">
<ul>
<li>
<p>UI Development</p>
</li>
<li>
<p>Organizational Charts</p>
</li>
<li>
<p>Schedules</p>
</li>
<li>
<p>Outlines</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_composite_disadvantages">Composite Disadvantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Because it is so dynamic, the Composite pattern is often difficult to test and debug</p>
</li>
<li>
<p>It normally requires a more sophisticated test/validation strategy that is designed around the concept of the whole-part object hierarchy</p>
</li>
<li>
<p>Requires full advance knowledge of the structure being modeled</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_composite_pattern_demo_diagram">Composite Pattern Demo Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/composite_uml.png" alt="composite uml">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_composite_component">Composite: Component</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">abstract</span> <span class="tok-kd">class</span> <span class="tok-nc">ArithmeticExpression</span> <span class="tok-o">{</span>
    <span class="tok-kd">public</span> <span class="tok-kd">abstract</span> <span class="tok-kt">double</span> <span class="tok-nf">calculate</span><span class="tok-o">();</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_composite_leaf">Composite: Leaf</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">Number</span> <span class="tok-kd">extends</span> <span class="tok-n">ArithmeticExpression</span> <span class="tok-o">{</span>

    <span class="tok-kd">private</span> <span class="tok-kt">double</span> <span class="tok-n">value</span><span class="tok-o">;</span>

    <span class="tok-kd">public</span> <span class="tok-nf">Number</span><span class="tok-o">(</span><span class="tok-kt">double</span> <span class="tok-n">value</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">value</span> <span class="tok-o">=</span> <span class="tok-n">value</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-kt">double</span> <span class="tok-nf">calculate</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-n">value</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-n">String</span> <span class="tok-nf">toString</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-n">Double</span><span class="tok-o">.</span><span class="tok-na">toString</span><span class="tok-o">(</span><span class="tok-n">value</span><span class="tok-o">);</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_composite_composite">Composite: Composite</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">Operand</span> <span class="tok-kd">extends</span> <span class="tok-n">ArithmeticExpression</span> <span class="tok-o">{</span>
    <span class="tok-kd">private</span> <span class="tok-kd">final</span> <span class="tok-n">ArithmeticExpression</span> <span class="tok-n">rhs</span><span class="tok-o">;</span>
    <span class="tok-kd">private</span> <span class="tok-kd">final</span> <span class="tok-n">ArithmeticExpression</span> <span class="tok-n">lhs</span><span class="tok-o">;</span>
    <span class="tok-kd">private</span> <span class="tok-n">Operation</span> <span class="tok-n">operation</span><span class="tok-o">;</span>

    <span class="tok-kd">public</span> <span class="tok-nf">Operand</span><span class="tok-o">(</span><span class="tok-n">ArithmeticExpression</span> <span class="tok-n">rhs</span><span class="tok-o">,</span>
                   <span class="tok-n">Operation</span> <span class="tok-n">operation</span><span class="tok-o">,</span>
                   <span class="tok-n">ArithmeticExpression</span> <span class="tok-n">lhs</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">rhs</span> <span class="tok-o">=</span> <span class="tok-n">rhs</span><span class="tok-o">;</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">lhs</span> <span class="tok-o">=</span> <span class="tok-n">lhs</span><span class="tok-o">;</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">operation</span> <span class="tok-o">=</span> <span class="tok-n">operation</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-kt">double</span> <span class="tok-nf">calculate</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-n">operation</span><span class="tok-o">.</span><span class="tok-na">calculate</span><span class="tok-o">(</span><span class="tok-n">rhs</span><span class="tok-o">,</span> <span class="tok-n">lhs</span><span class="tok-o">);</span>
    <span class="tok-o">}</span>

    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-n">String</span> <span class="tok-nf">toString</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-s">&quot;( &quot;</span> <span class="tok-o">+</span> <span class="tok-n">rhs</span><span class="tok-o">.</span><span class="tok-na">toString</span><span class="tok-o">()</span> <span class="tok-o">+</span> <span class="tok-s">&quot; &quot;</span> <span class="tok-o">+</span>
                      <span class="tok-n">operation</span><span class="tok-o">.</span><span class="tok-na">getOp</span><span class="tok-o">()</span> <span class="tok-o">+</span> <span class="tok-s">&quot; &quot;</span> <span class="tok-o">+</span>
                      <span class="tok-n">lhs</span><span class="tok-o">.</span><span class="tok-na">toString</span><span class="tok-o">()</span> <span class="tok-o">+</span> <span class="tok-s">&quot; )&quot;</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_composite_utility_class">Composite: Utility Class</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">enum</span> <span class="tok-n">Operation</span> <span class="tok-o">{</span>
    <span class="tok-n">PLUS</span><span class="tok-o">(</span><span class="tok-s">&quot;+&quot;</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-nd">@Override</span>
        <span class="tok-kd">public</span> <span class="tok-kt">double</span> <span class="tok-nf">calculate</span><span class="tok-o">(</span><span class="tok-n">ArithmeticExpression</span> <span class="tok-n">rhs</span><span class="tok-o">,</span>
                                <span class="tok-n">ArithmeticExpression</span> <span class="tok-n">lhs</span><span class="tok-o">)</span> <span class="tok-o">{</span>
            <span class="tok-k">return</span> <span class="tok-n">rhs</span><span class="tok-o">.</span><span class="tok-na">calculate</span><span class="tok-o">()</span> <span class="tok-o">+</span> <span class="tok-n">lhs</span><span class="tok-o">.</span><span class="tok-na">calculate</span><span class="tok-o">();</span>
        <span class="tok-o">}</span>
    <span class="tok-o">},</span>
    <span class="tok-n">MINUS</span><span class="tok-o">(</span><span class="tok-s">&quot;-&quot;</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-nd">@Override</span>
        <span class="tok-kd">public</span> <span class="tok-kt">double</span> <span class="tok-nf">calculate</span><span class="tok-o">(</span><span class="tok-n">ArithmeticExpression</span> <span class="tok-n">rhs</span><span class="tok-o">,</span>
                                <span class="tok-n">ArithmeticExpression</span> <span class="tok-n">lhs</span><span class="tok-o">)</span> <span class="tok-o">{</span>
            <span class="tok-k">return</span> <span class="tok-n">rhs</span><span class="tok-o">.</span><span class="tok-na">calculate</span><span class="tok-o">()</span> <span class="tok-o">-</span> <span class="tok-n">lhs</span><span class="tok-o">.</span><span class="tok-na">calculate</span><span class="tok-o">();</span>
        <span class="tok-o">}</span>
    <span class="tok-o">},</span>
    <span class="tok-n">MULTIPLICATION</span><span class="tok-o">(</span><span class="tok-s">&quot;*&quot;</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-nd">@Override</span>
        <span class="tok-kd">public</span> <span class="tok-kt">double</span> <span class="tok-nf">calculate</span><span class="tok-o">(</span><span class="tok-n">ArithmeticExpression</span> <span class="tok-n">rhs</span><span class="tok-o">,</span>
                                <span class="tok-n">ArithmeticExpression</span> <span class="tok-n">lhs</span><span class="tok-o">)</span> <span class="tok-o">{</span>
            <span class="tok-k">return</span> <span class="tok-n">rhs</span><span class="tok-o">.</span><span class="tok-na">calculate</span><span class="tok-o">()</span> <span class="tok-o">*</span> <span class="tok-n">lhs</span><span class="tok-o">.</span><span class="tok-na">calculate</span><span class="tok-o">();</span>
        <span class="tok-o">}</span>
    <span class="tok-o">},</span>
    <span class="tok-n">DIVISION</span><span class="tok-o">(</span><span class="tok-s">&quot;/&quot;</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-nd">@Override</span>
        <span class="tok-kd">public</span> <span class="tok-kt">double</span> <span class="tok-nf">calculate</span><span class="tok-o">(</span><span class="tok-n">ArithmeticExpression</span> <span class="tok-n">rhs</span><span class="tok-o">,</span>
                                <span class="tok-n">ArithmeticExpression</span> <span class="tok-n">lhs</span><span class="tok-o">)</span> <span class="tok-o">{</span>
            <span class="tok-k">return</span> <span class="tok-n">rhs</span><span class="tok-o">.</span><span class="tok-na">calculate</span><span class="tok-o">()</span> <span class="tok-o">/</span> <span class="tok-n">lhs</span><span class="tok-o">.</span><span class="tok-na">calculate</span><span class="tok-o">();</span>
        <span class="tok-o">}</span>
    <span class="tok-o">};</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_composite_utility_class_continued">Composite: Utility Class Continued</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span>
<span class="tok-kd">public</span> <span class="tok-kd">enum</span> <span class="tok-n">Operation</span> <span class="tok-o">{</span>

    <span class="tok-c1">//...</span>

    <span class="tok-kd">private</span> <span class="tok-n">String</span> <span class="tok-n">op</span><span class="tok-o">;</span>

    <span class="tok-kd">private</span> <span class="tok-nf">Operation</span><span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">op</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">op</span> <span class="tok-o">=</span> <span class="tok-n">op</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-kd">abstract</span> <span class="tok-kt">double</span> <span class="tok-nf">calculate</span><span class="tok-o">(</span><span class="tok-n">ArithmeticExpression</span> <span class="tok-n">rhs</span><span class="tok-o">,</span> <span class="tok-n">ArithmeticExpression</span> <span class="tok-n">lhs</span><span class="tok-o">);</span>

    <span class="tok-kd">public</span> <span class="tok-n">String</span> <span class="tok-nf">getOp</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-n">op</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_decorator_pattern">Decorator Pattern</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_decorator_pattern_purpose">Decorator Pattern Purpose</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Also known as a Wrapper</p>
</li>
<li>
<p>To provide a way to flexibly add or remove component functionality without changing its external appearance or function</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_decorator_canonical_diagram">Decorator Canonical Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/decorator-pattern.png" alt="decorator pattern" width="423" height="459">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_decorator_pattern_advantages">Decorator Pattern Advantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>"Delegation over Inheritance" - Effective Java Josh Bloch</p>
</li>
<li>
<p>Produce classes with plugin capabilities</p>
</li>
<li>
<p>You want to make dynamic changes that are transparent to users, without the restrictions of subclassing</p>
</li>
<li>
<p>Offers the opportunity to easily adjust and augment the behavior of an object during runtime</p>
</li>
<li>
<p>Can reduce memory by reusing layers</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_decorator_pattern_disadvantages">Decorator Pattern Disadvantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Can produce large number of layers</p>
</li>
<li>
<p>Debugging and testing can be difficult</p>
</li>
<li>
<p>Can be slow if done incorrectly</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_decorator_demo_diagram">Decorator Demo Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/decorator_uml.png" alt="decorator uml">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_base_interface">Base Interface</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">Sundae</span> <span class="tok-o">{</span>
    <span class="tok-n">String</span> <span class="tok-nf">describeSundae</span><span class="tok-o">();</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_decorator">The Decorator</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">abstract</span> <span class="tok-kd">class</span> <span class="tok-nc">SundaeDecorator</span> <span class="tok-kd">implements</span> <span class="tok-n">Sundae</span> <span class="tok-o">{</span>

    <span class="tok-kd">private</span> <span class="tok-n">Sundae</span> <span class="tok-n">decorated</span><span class="tok-o">;</span>

    <span class="tok-kd">public</span> <span class="tok-nf">SundaeDecorator</span><span class="tok-o">(</span><span class="tok-n">Sundae</span> <span class="tok-n">decorated</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">decorated</span> <span class="tok-o">=</span> <span class="tok-n">decorated</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-n">Sundae</span> <span class="tok-nf">getDecorated</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-n">decorated</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_base_class">The Base Class</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">VanillaIceCream</span> <span class="tok-kd">implements</span> <span class="tok-n">Sundae</span> <span class="tok-o">{</span>
    <span class="tok-kd">public</span> <span class="tok-n">String</span> <span class="tok-nf">describeSundae</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-s">&quot;Vanilla Ice Cream&quot;</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sample_decorator_layer">Sample Decorator Layer</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">WhipcreamSundaeDecorator</span> <span class="tok-kd">extends</span> <span class="tok-n">SundaeDecorator</span> <span class="tok-o">{</span>
    <span class="tok-kd">public</span> <span class="tok-nf">WhipcreamSundaeDecorator</span><span class="tok-o">(</span><span class="tok-n">Sundae</span> <span class="tok-n">sundae</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-kd">super</span><span class="tok-o">(</span><span class="tok-n">sundae</span><span class="tok-o">);</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-n">String</span> <span class="tok-nf">describeSundae</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-s">&quot;Whipcream &quot;</span> <span class="tok-o">+</span> <span class="tok-n">getDecorated</span><span class="tok-o">().</span><span class="tok-na">describeSundae</span><span class="tok-o">();</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_another_sample_decorator_layer">Another Sample Decorator Layer</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">NutsSundaeDecorator</span> <span class="tok-kd">extends</span> <span class="tok-n">SundaeDecorator</span> <span class="tok-o">{</span>
    <span class="tok-kd">public</span> <span class="tok-nf">NutsSundaeDecorator</span><span class="tok-o">(</span><span class="tok-n">Sundae</span> <span class="tok-n">sundae</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-kd">super</span><span class="tok-o">(</span><span class="tok-n">sundae</span><span class="tok-o">);</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-n">String</span> <span class="tok-nf">describeSundae</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-s">&quot;Nuts &quot;</span> <span class="tok-o">+</span> <span class="tok-n">getDecorated</span><span class="tok-o">().</span><span class="tok-na">describeSundae</span><span class="tok-o">();</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_and_yet_another">And Yet, Another</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Notice this one, this one changes the end result</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">FudgeFilterDecorator</span> <span class="tok-kd">extends</span> <span class="tok-n">SundaeDecorator</span> <span class="tok-o">{</span>
    <span class="tok-kd">public</span> <span class="tok-nf">FudgeFilterDecorator</span><span class="tok-o">(</span><span class="tok-n">Sundae</span> <span class="tok-n">cherryOnTopDecorator</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-kd">super</span><span class="tok-o">(</span><span class="tok-n">cherryOnTopDecorator</span><span class="tok-o">);</span>
    <span class="tok-o">}</span>

    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-n">String</span> <span class="tok-nf">describeSundae</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-n">getDecorated</span><span class="tok-o">().</span><span class="tok-na">describeSundae</span><span class="tok-o">().</span><span class="tok-na">replaceAll</span><span class="tok-o">(</span><span class="tok-s">&quot;Fudge&quot;</span><span class="tok-o">,</span> <span class="tok-s">&quot;xxxxx&quot;</span><span class="tok-o">);</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_running_a_decorator">Running a Decorator</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">Sundae</span> <span class="tok-n">sundae</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">NutsSundaeDecorator</span><span class="tok-o">(</span>
        <span class="tok-k">new</span> <span class="tok-n">FudgeSundaeDecorator</span><span class="tok-o">(</span>
                <span class="tok-k">new</span> <span class="tok-n">WhipcreamSundaeDecorator</span><span class="tok-o">(</span>
                        <span class="tok-k">new</span> <span class="tok-n">VanillaIceCream</span><span class="tok-o">()</span>
                <span class="tok-o">)</span>
        <span class="tok-o">)</span>
<span class="tok-o">);</span>

<span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-n">sundae</span><span class="tok-o">.</span><span class="tok-na">describeSundae</span><span class="tok-o">());</span>

<span class="tok-c1">//add a cherry</span>

<span class="tok-n">Sundae</span> <span class="tok-n">cherryOnTopDecorator</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">CherryOnTopDecorator</span><span class="tok-o">(</span><span class="tok-n">sundae</span><span class="tok-o">);</span>

<span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-n">cherryOnTopDecorator</span><span class="tok-o">.</span><span class="tok-na">describeSundae</span><span class="tok-o">());</span>

<span class="tok-n">Sundae</span> <span class="tok-n">filteredFudge</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">FudgeFilterDecorator</span><span class="tok-o">(</span><span class="tok-n">cherryOnTopDecorator</span><span class="tok-o">);</span>

<span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-n">filteredFudge</span><span class="tok-o">.</span><span class="tok-na">describeSundae</span><span class="tok-o">());</span></code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_lab_making_an_functional_decorator">Lab: Making an Functional Decorator</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Step 1:</strong> In design_patterns_training, go to <em>src/test/java</em> and
a package called <code>com.xyzcorp.decorator</code>, if they do not exist, create them.</p>
</div>
<div class="paragraph">
<p><strong>Step 2:</strong> In the <code>com.xyzcorp.decorator</code> package, create a test class called <code>DecoratorTest</code></p>
</div>
<div class="paragraph">
<p><strong>Step 3:</strong> The decorator pattern can use an upgrade. We can probably use a <code>java.util.function.Function</code>
 in order to do decorating instead of a bunch of classes. First create a class called <code>Camera</code> that has
 a <code>color</code> property where <code>Color</code> is a <code>java.awt.Color</code>.  Create an <code>equals</code>, <code>hashCode</code>, <code>toString</code></p>
</div>
<div class="paragraph">
<p><strong>Step 4:</strong> Create a method in <code>Camera</code> with either of the following signatures:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-n">Camera</span> <span class="tok-nf">decorate</span><span class="tok-o">(</span><span class="tok-n">Function</span><span class="tok-o">&lt;</span><span class="tok-n">Color</span><span class="tok-o">,</span> <span class="tok-n">Color</span><span class="tok-o">&gt;...</span> <span class="tok-n">filters</span><span class="tok-o">)</span> <span class="tok-o">{</span>
   <span class="tok-o">...</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-n">Camera</span> <span class="tok-nf">decorate</span><span class="tok-o">(</span><span class="tok-n">List</span><span class="tok-o">&lt;</span><span class="tok-n">Function</span><span class="tok-o">&lt;</span><span class="tok-n">Color</span><span class="tok-o">,</span> <span class="tok-n">Color</span><span class="tok-o">&gt;&gt;</span> <span class="tok-n">filters</span><span class="tok-o">)</span> <span class="tok-o">{</span>
   <span class="tok-o">...</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Step 5:</strong> This will not be easy. Use functional programming to join, or shall we say <code>compose</code>, these <code>Function</code> together.
Look up or ask about <code>reduce</code> and return a <strong>new</strong> Camera that applies the current color to the combined function.</p>
</div>
<div class="paragraph">
<p><strong>Step 6:</strong> Test the results by comparing <code>getColor</code> on the new <code>Camera</code> with the old <code>Camera</code></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_facade_pattern">Facade Pattern</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_facade_pattern_properties">Facade Pattern Properties</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Type:</strong> Structural<br>
<strong>Level:</strong> Component<br></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_facade_pattern_canonical_diagram">Facade Pattern Canonical Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/facade-pattern.png" alt="facade pattern" width="766" height="190">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_facade_ingredients">Facade Ingredients</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Facade</strong> – The class for clients to use. It knows about the subsystems it uses and their respective responsibilities. Normally all client requests will be delegated to the appropriate subsystems.</p>
</div>
<div class="paragraph">
<p><strong>Subsystem</strong> – This is a set of classes. They can be used by clients directly or will do work assigned to them by the <code>Facade</code>. It does not have knowledge of the <code>Facade</code>; for the subsystem the <code>Facade</code> will be just another client.</p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_facade_purpose">Facade Purpose</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>To provide a simplified interface to a group of subsystems or a complex subsystem</p>
</li>
<li>
<p>Reduce coupling between clients and subsystems.</p>
</li>
<li>
<p>Layer subsystems by providing Facades for sets of subsystems.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_facade_advantages">Facade Advantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Protects the client with an overabundance of options, parameters, and setup methods</p>
</li>
<li>
<p>One request can be translated to multiple subsystems</p>
</li>
<li>
<p>Promotes low coupling between subsystems</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_facade_disadvantages">Facade Disadvantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Can be difficult to debug if subsystems gets too high</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_facade_demo_diagram">Facade Demo Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/facade_uml.png" alt="facade uml">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_facade_the_facades_interface">Facade: The Facade&#8217;s Interface</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">StudentService</span> <span class="tok-o">{</span>
    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">registerStudent</span><span class="tok-o">(</span><span class="tok-n">Student</span> <span class="tok-n">student</span><span class="tok-o">);</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_facade_the_facades_implementation">Facade: The Facade&#8217;s Implementation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Here, we create a "complication", albeit a small one.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">StandardStudentService</span> <span class="tok-kd">implements</span> <span class="tok-n">StudentService</span> <span class="tok-o">{</span>

    <span class="tok-kd">private</span> <span class="tok-kd">final</span> <span class="tok-n">StudentDAO</span> <span class="tok-n">studentDAO</span><span class="tok-o">;</span>

    <span class="tok-kd">public</span> <span class="tok-nf">StandardStudentService</span><span class="tok-o">(</span><span class="tok-n">StudentDAO</span> <span class="tok-n">studentDAO</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">studentDAO</span> <span class="tok-o">=</span> <span class="tok-n">studentDAO</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">registerStudent</span><span class="tok-o">(</span><span class="tok-n">Student</span> <span class="tok-n">student</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">if</span> <span class="tok-o">(!</span><span class="tok-n">studentDAO</span><span class="tok-o">.</span><span class="tok-na">isAlreadyRegistered</span><span class="tok-o">(</span><span class="tok-n">student</span><span class="tok-o">))</span> <span class="tok-o">{</span>
            <span class="tok-n">studentDAO</span><span class="tok-o">.</span><span class="tok-na">persist</span><span class="tok-o">(</span><span class="tok-n">student</span><span class="tok-o">);</span>
        <span class="tok-o">}</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_facade_the_facades_dependency_interface">Facade: The Facade&#8217;s Dependency Interface</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">StudentDAO</span> <span class="tok-o">{</span>
    <span class="tok-kd">public</span> <span class="tok-n">Long</span> <span class="tok-nf">persist</span><span class="tok-o">(</span><span class="tok-n">Student</span> <span class="tok-n">student</span><span class="tok-o">);</span>
    <span class="tok-kd">public</span> <span class="tok-n">Student</span> <span class="tok-nf">findById</span><span class="tok-o">(</span><span class="tok-n">Long</span> <span class="tok-n">id</span><span class="tok-o">);</span>
    <span class="tok-kd">public</span> <span class="tok-kt">boolean</span> <span class="tok-nf">isAlreadyRegistered</span><span class="tok-o">(</span><span class="tok-n">Student</span> <span class="tok-n">student</span><span class="tok-o">);</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_facade_the_facades_dependency_implementation">Facade: The Facade&#8217;s Dependency Implementation</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">OracleStudentDAO</span> <span class="tok-kd">implements</span> <span class="tok-n">StudentDAO</span> <span class="tok-o">{</span>
    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-n">Long</span> <span class="tok-nf">persist</span><span class="tok-o">(</span><span class="tok-n">Student</span> <span class="tok-n">student</span><span class="tok-o">)</span> <span class="tok-o">{</span>
      <span class="tok-c1">//insert lots of database code</span>
    <span class="tok-o">}</span>

    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-n">Student</span> <span class="tok-nf">findById</span><span class="tok-o">(</span><span class="tok-n">Long</span> <span class="tok-n">id</span><span class="tok-o">)</span> <span class="tok-o">{</span>
      <span class="tok-c1">//insert lots of database code</span>
    <span class="tok-o">}</span>

    <span class="tok-nd">@Override</span>
    <span class="tok-kd">public</span> <span class="tok-kt">boolean</span> <span class="tok-nf">isAlreadyRegistered</span><span class="tok-o">(</span><span class="tok-n">Student</span> <span class="tok-n">student</span><span class="tok-o">)</span> <span class="tok-o">{</span>
      <span class="tok-c1">//insert lots of database code</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_proxy_pattern">Proxy Pattern</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_proxy_pattern_properties">Proxy Pattern Properties</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Type:</strong> Structural<br>
<strong>Level:</strong> Component<br></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_proxy_purpose">Proxy Purpose</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To provide a representative of another object, for reasons such as access, speed, or security.</p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_proxy_canonical_diagram">Proxy Canonical Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/proxy-pattern.png" alt="proxy pattern" width="268" height="174">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_proxy_ingredients">Proxy Ingredients</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Service</strong> – The interface that both the proxy and the real object will implement.</p>
</div>
<div class="paragraph">
<p><strong>ServiceProxy</strong> – ServiceProxy implements <code>Service</code> and forwards method calls
 to the real object (<code>ServiceImpl</code>) when appropriate.</p>
</div>
<div class="paragraph">
<p><strong>ServiceImpl</strong> – The real, full implementation of the interface. This object
will be represented by the Proxy object.</p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_proxy_advantages">Proxy Advantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Kind of an adapter pattern, but for complex, remote, or both objects</p>
</li>
<li>
<p>Delays creation of those expensive objects</p>
</li>
<li>
<p>Can be used to constrain access based on access control</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_proxy_disadvantages">Proxy Disadvantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Complicated setup</p>
</li>
<li>
<p>Unnecessary for simple local reference</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_proxy_demo_diagram">Proxy Demo Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/proxy_uml.png" alt="proxy uml">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_proxy_target_interface">Proxy: Target Interface</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">Target</span> <span class="tok-o">{</span>
    <span class="tok-kt">void</span> <span class="tok-nf">callMe</span><span class="tok-o">();</span>
    <span class="tok-kt">void</span> <span class="tok-nf">takeSomeTime</span><span class="tok-o">();</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_proxy_target_implementation">Proxy: Target Implementation</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">TargetImpl</span> <span class="tok-kd">implements</span> <span class="tok-n">Target</span> <span class="tok-o">{</span>

    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">callMe</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Called&quot;</span><span class="tok-o">);</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">takeSomeTime</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">try</span> <span class="tok-o">{</span>
            <span class="tok-n">Thread</span><span class="tok-o">.</span><span class="tok-na">sleep</span><span class="tok-o">(</span><span class="tok-mi">1000</span><span class="tok-o">);</span>
            <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Took some time&quot;</span><span class="tok-o">);</span>
        <span class="tok-o">}</span> <span class="tok-k">catch</span> <span class="tok-o">(</span><span class="tok-n">InterruptedException</span> <span class="tok-n">e</span><span class="tok-o">)</span> <span class="tok-o">{</span>
            <span class="tok-n">e</span><span class="tok-o">.</span><span class="tok-na">printStackTrace</span><span class="tok-o">();</span>
        <span class="tok-o">}</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_proxy_the_proxy">Proxy: The Proxy</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The difference between a Proxy and an Adapter is that the Adapter can have a
different interface, a Proxy must have the same interface and perhaps some supporting methods</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">LoggingProxy</span> <span class="tok-kd">implements</span> <span class="tok-n">Target</span> <span class="tok-o">{</span>

    <span class="tok-kd">private</span> <span class="tok-n">Target</span> <span class="tok-n">proxied</span><span class="tok-o">;</span>

    <span class="tok-kd">public</span> <span class="tok-nf">LoggingProxy</span><span class="tok-o">(</span><span class="tok-n">Target</span> <span class="tok-n">proxied</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">proxied</span> <span class="tok-o">=</span> <span class="tok-n">proxied</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">callMe</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-kt">long</span> <span class="tok-n">start</span> <span class="tok-o">=</span> <span class="tok-n">before</span><span class="tok-o">(</span><span class="tok-s">&quot;callMe()&quot;</span><span class="tok-o">);</span>
        <span class="tok-n">proxied</span><span class="tok-o">.</span><span class="tok-na">callMe</span><span class="tok-o">();</span>
        <span class="tok-n">after</span><span class="tok-o">(</span><span class="tok-s">&quot;callMe()&quot;</span><span class="tok-o">,</span> <span class="tok-n">start</span><span class="tok-o">);</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">takeSomeTime</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-kt">long</span> <span class="tok-n">start</span> <span class="tok-o">=</span> <span class="tok-n">before</span><span class="tok-o">(</span><span class="tok-s">&quot;takeSomeTime()&quot;</span><span class="tok-o">);</span>
        <span class="tok-n">proxied</span><span class="tok-o">.</span><span class="tok-na">takeSomeTime</span><span class="tok-o">();</span>
        <span class="tok-n">after</span><span class="tok-o">(</span><span class="tok-s">&quot;takeSomeTime()&quot;</span><span class="tok-o">,</span> <span class="tok-n">start</span><span class="tok-o">);</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">private</span> <span class="tok-kt">long</span> <span class="tok-nf">before</span><span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">name</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Before &quot;</span> <span class="tok-o">+</span> <span class="tok-n">name</span><span class="tok-o">);</span>
        <span class="tok-k">return</span> <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">currentTimeMillis</span><span class="tok-o">();</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">private</span> <span class="tok-kt">void</span> <span class="tok-nf">after</span><span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">name</span><span class="tok-o">,</span> <span class="tok-kt">long</span> <span class="tok-n">start</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;After: &quot;</span> <span class="tok-o">+</span> <span class="tok-n">name</span> <span class="tok-o">+</span> <span class="tok-s">&quot; took: &quot;</span> <span class="tok-o">+</span> <span class="tok-o">(</span><span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">currentTimeMillis</span><span class="tok-o">()</span> <span class="tok-o">-</span> <span class="tok-n">start</span><span class="tok-o">));</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_proxy_use_of_a_proxy">Proxy: Use of a Proxy</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">Target</span> <span class="tok-n">target</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">TargetImpl</span><span class="tok-o">();</span>

<span class="tok-n">target</span><span class="tok-o">.</span><span class="tok-na">callMe</span><span class="tok-o">();</span>
<span class="tok-n">target</span><span class="tok-o">.</span><span class="tok-na">takeSomeTime</span><span class="tok-o">();</span>

<span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Added Proxy&quot;</span><span class="tok-o">);</span>
<span class="tok-n">Target</span> <span class="tok-n">targetProxy</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">LoggingProxy</span><span class="tok-o">(</span><span class="tok-n">target</span><span class="tok-o">);</span>

<span class="tok-n">targetProxy</span><span class="tok-o">.</span><span class="tok-na">callMe</span><span class="tok-o">();</span>
<span class="tok-n">targetProxy</span><span class="tok-o">.</span><span class="tok-na">takeSomeTime</span><span class="tok-o">();</span></code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_flyweight_pattern">Flyweight Pattern</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_flyweight_pattern_properties">Flyweight Pattern Properties</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Type:</strong> Structural<br>
<strong>Level:</strong> Component<br></p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_flyweight_purpose">Flyweight Purpose</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Provides for sharing an object between clients</p>
</li>
<li>
<p>Creating a responsibility for the shared object that normal objects do not need to consider</p>
</li>
<li>
<p>An ordinary object doesn&#8217;t have to worry much about shared responsibility</p>
</li>
<li>
<p>Most often, only one client will hold a reference to an object at any one time</p>
</li>
<li>
<p>When the object’s state changes, it’s because the client changed it, and the object does not have any responsibility to inform any other clients</p>
</li>
<li>
<p>Sometimes, though, you will want to arrange for multiple clients to share access to an object</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_flyweight_canonical_diagram">Flyweight Canonical Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/flyweight-pattern.png" alt="flyweight pattern" width="331" height="215">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_flyweight_ingredients">Flyweight Ingredients</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Flyweight</strong> – The interface defines the methods clients can use to pass external state into the flyweight objects.</p>
</div>
<div class="paragraph">
<p><strong>ConcreteFlyweight</strong> – This implements the <code>Flyweight</code> interface, and implements the ability to store
internal data. The internal data has to be representative for all the instances where you need the Flyweight.</p>
</div>
<div class="paragraph">
<p><strong>FlyweightFactory</strong> – This factory is responsible for creating and managing the Flyweights. Providing
 access to Flyweight creation through the factory ensures proper sharing. The factory can create all
  the flyweights at the start of the application, or wait until they are needed.</p>
</div>
<div class="paragraph">
<p><strong>Client</strong> – The client is responsible for creating and providing the context for the flyweights.
 The only way to get a reference to a flyweight is through <code>FlyweightFactory</code>.</p>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_flyweight_advantages">Flyweight Advantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Sharing an object among multiple clients occurs when you must manage thousands</p>
</li>
<li>
<p>Provides for sharing an object between clients</p>
</li>
<li>
<p>Save in memory</p>
</li>
<li>
<p>Runtime can be efficient</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="small">Source: Applied Java Patterns By Stephen Stelting, Olav Massen</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_flyweight_disadvantages">Flyweight Disadvantages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>None</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_flyweight_demo_diagram">Flyweight Demo Diagram</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/flyweight_uml.png" alt="flyweight uml">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_flyweight_factory">Flyweight Factory</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kn">import</span> <span class="tok-nn">java.util.HashMap</span><span class="tok-o">;</span>

<span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">StarWarsActionFigureFactory</span> <span class="tok-o">{</span>
    <span class="tok-kd">private</span> <span class="tok-n">HashMap</span><span class="tok-o">&lt;</span><span class="tok-n">String</span><span class="tok-o">,</span> <span class="tok-n">StarWarsActionFigure</span><span class="tok-o">&gt;</span> <span class="tok-n">flyweights</span><span class="tok-o">;</span>

    <span class="tok-kd">public</span> <span class="tok-nf">StarWarsActionFigureFactory</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">flyweights</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">HashMap</span><span class="tok-o">&lt;&gt;();</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-n">StarWarsActionFigure</span> <span class="tok-nf">getInstance</span><span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">name</span><span class="tok-o">)</span> <span class="tok-o">{</span>
         <span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">flyweights</span><span class="tok-o">.</span><span class="tok-na">containsKey</span><span class="tok-o">(</span><span class="tok-n">name</span><span class="tok-o">))</span> <span class="tok-k">return</span> <span class="tok-n">flyweights</span><span class="tok-o">.</span><span class="tok-na">get</span><span class="tok-o">(</span><span class="tok-n">name</span><span class="tok-o">);</span>
         <span class="tok-k">else</span> <span class="tok-o">{</span>
             <span class="tok-n">StarWarsActionFigure</span> <span class="tok-n">starWarsActionFigure</span> <span class="tok-o">=</span>
                <span class="tok-k">new</span> <span class="tok-n">StarWarsActionFigure</span><span class="tok-o">(</span><span class="tok-n">name</span><span class="tok-o">);</span>
             <span class="tok-n">flyweights</span><span class="tok-o">.</span><span class="tok-na">put</span><span class="tok-o">(</span><span class="tok-n">name</span><span class="tok-o">,</span> <span class="tok-n">starWarsActionFigure</span><span class="tok-o">);</span>
             <span class="tok-k">return</span> <span class="tok-n">starWarsActionFigure</span><span class="tok-o">;</span>
         <span class="tok-o">}</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_flyweight_objects">Flyweight Objects</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">StarWarsActionFigure</span> <span class="tok-o">{</span>
    <span class="tok-kd">private</span> <span class="tok-n">String</span> <span class="tok-n">name</span><span class="tok-o">;</span>

    <span class="tok-kd">protected</span> <span class="tok-nf">StarWarsActionFigure</span><span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">name</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">name</span> <span class="tok-o">=</span> <span class="tok-n">name</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-n">String</span> <span class="tok-nf">getName</span><span class="tok-o">()</span> <span class="tok-o">{</span><span class="tok-k">return</span> <span class="tok-n">name</span><span class="tok-o">;}</span>

    <span class="tok-c1">//toString, equals, hashCode</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_discussion_of_active_projects">Discussion of Active Projects</h2>
<div class="sectionbody">
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_discussion_of_active_projects_2">Discussion of Active Projects</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>What frameworks do you currently use?</p>
</li>
<li>
<p>What libraries do you currently use?</p>
</li>
<li>
<p>What patterns are enforced with those projects?</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1 slide_section">
<h2 id="_recommended_books">Recommended Books</h2>
<div class="sectionbody">
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_head_first_design_patterns">Head First Design Patterns</h2>
<div class="sectionbody">
<div class="imageblock" style="float: left">
<div class="content">
<img src="./images/head_first_design_patterns.jpg" alt="head first design patterns" width="90%" height="90%">
</div>
</div>
<div class="paragraph">
<p>Head First Design Patterns<br>
A Brain-Friendly Guide<br>
By Bert Bates, Kathy Sierra, Eric Freeman, Elisabeth Robson<br>
Publisher: O&#8217;Reilly Media<br>
Release Date: June 2009<br>
Pages: 688<br></p>
</div>
<div class="paragraph">
<p><a href="http://shop.oreilly.com/product/9780596007126.do" class="bare">http://shop.oreilly.com/product/9780596007126.do</a><br>
Available on O&#8217;Reilly Safari<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_applied_java_patterns">Applied Java Patterns</h2>
<div class="sectionbody">
<div class="imageblock" style="float: left">
<div class="content">
<img src="./images/applied_java_patterns.jpg" alt="applied java patterns" width="90%" height="90%">
</div>
</div>
<div class="paragraph">
<p>Applied Java Patterns<br>
By Stephen Stelting, Olav Massen<br>
Publisher: Prentice Hall<br>
Release Date: January 2002<br>
Pages: 608<br></p>
</div>
<div class="paragraph">
<p><a href="https://www.amazon.com/Applied-Java-Patterns-Stephen-Stelting/dp/0130935387" class="bare">https://www.amazon.com/Applied-Java-Patterns-Stephen-Stelting/dp/0130935387</a><br>
Available on O&#8217;Reilly Safari<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_design_patterns_elements_resusable_object_oriented_software">Design Patterns Elements Resusable Object Oriented Software</h2>
<div class="sectionbody">
<div class="imageblock" style="float: left">
<div class="content">
<img src="./images/design_patterns_elements.jpg" alt="design patterns elements" width="90%" height="90%">
</div>
</div>
<div class="paragraph">
<p>Design Patterns, Element of Reusable Object Oriented Software:<br>
By Erich Gamma, Richard Helm, Ralph Johnson, John Vlissides, Grady Booch<br>
Publisher: Addison-Wesley Professional<br>
Release Date: October 31, 1994<br>
Pages: 395<br></p>
</div>
<div class="paragraph">
<p><a href="https://www.amazon.com/Design-Patterns-Object-Oriented-Addison-Wesley-Professional-ebook/dp/B000SEIBB8" class="bare">https://www.amazon.com/Design-Patterns-Object-Oriented-Addison-Wesley-Professional-ebook/dp/B000SEIBB8</a><br>
Available on O&#8217;Reilly Safari<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_learning_uml_2_0">Learning UML 2.0</h2>
<div class="sectionbody">
<div class="imageblock" style="float: left">
<div class="content">
<img src="./images/UML20.jpg" alt="UML20" width="90%" height="90%">
</div>
</div>
<div class="paragraph">
<p>by Kim Hamilton, Russ Miles<br>
Publisher: O&#8217;Reilly Media, Inc.<br>
Release Date: April 2006<br>
ISBN: 9780596009823<br>
Topic: Software Development<br></p>
</div>
<div class="paragraph">
<p><a href="http://shop.oreilly.com/product/9780596009823.do" class="bare">http://shop.oreilly.com/product/9780596009823.do</a><br>
Available on O&#8217;Reilly Safari<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_thank_you">Thank You</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Email: <a href="mailto:dhinojosa@evolutionnext.com">dhinojosa@evolutionnext.com</a></p>
</li>
<li>
<p>Github: <a href="https://www.github.com/dhinojosa" class="bare">https://www.github.com/dhinojosa</a></p>
</li>
<li>
<p>Twitter: <a href="http://twitter.com/dhinojosa" class="bare">http://twitter.com/dhinojosa</a></p>
</li>
<li>
<p>Linked In: <a href="http://www.linkedin.com/in/dhevolutionnext" class="bare">http://www.linkedin.com/in/dhevolutionnext</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2018-08-19 23:33:57 PDT
</div>
</div>
</body>
</html>